(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))i(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const s of o.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&i(s)}).observe(document,{childList:!0,subtree:!0});function e(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function i(a){if(a.ep)return;a.ep=!0;const o=e(a);fetch(a.href,o)}})();var pn,q,ji,Ae,Us,Wi,Ui,Bi,es,Br,Yr,Yi,hn={},Ki=[],da=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,mn=Array.isArray;function Kt(n,t){for(var e in t)n[e]=t[e];return n}function ns(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function Te(n,t,e){var i,a,o,s={};for(o in t)o=="key"?i=t[o]:o=="ref"?a=t[o]:s[o]=t[o];if(arguments.length>2&&(s.children=arguments.length>3?pn.call(arguments,2):e),typeof n=="function"&&n.defaultProps!=null)for(o in n.defaultProps)s[o]==null&&(s[o]=n.defaultProps[o]);return ln(n,s,i,a,null)}function ln(n,t,e,i,a){var o={type:n,props:t,key:e,ref:i,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:a??++ji,__i:-1,__u:0};return a==null&&q.vnode!=null&&q.vnode(o),o}function je(n){return n.children}function Un(n,t){this.props=n,this.context=t}function We(n,t){if(t==null)return n.__?We(n.__,n.__i+1):null;for(var e;t<n.__k.length;t++)if((e=n.__k[t])!=null&&e.__e!=null)return e.__e;return typeof n.type=="function"?We(n):null}function qi(n){var t,e;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,t=0;t<n.__k.length;t++)if((e=n.__k[t])!=null&&e.__e!=null){n.__e=n.__c.base=e.__e;break}return qi(n)}}function Kr(n){(!n.__d&&(n.__d=!0)&&Ae.push(n)&&!Gn.__r++||Us!=q.debounceRendering)&&((Us=q.debounceRendering)||Wi)(Gn)}function Gn(){for(var n,t,e,i,a,o,s,l=1;Ae.length;)Ae.length>l&&Ae.sort(Ui),n=Ae.shift(),l=Ae.length,n.__d&&(e=void 0,a=(i=(t=n).__v).__e,o=[],s=[],t.__P&&((e=Kt({},i)).__v=i.__v+1,q.vnode&&q.vnode(e),rs(t.__P,e,i,t.__n,t.__P.namespaceURI,32&i.__u?[a]:null,o,a??We(i),!!(32&i.__u),s),e.__v=i.__v,e.__.__k[e.__i]=e,Xi(o,e,s),e.__e!=a&&qi(e)));Gn.__r=0}function zi(n,t,e,i,a,o,s,l,c,r,h){var p,m,_,E,w,N,k=i&&i.__k||Ki,L=t.length;for(c=ha(e,t,k,c,L),p=0;p<L;p++)(_=e.__k[p])!=null&&(m=_.__i==-1?hn:k[_.__i]||hn,_.__i=p,N=rs(n,_,m,a,o,s,l,c,r,h),E=_.__e,_.ref&&m.ref!=_.ref&&(m.ref&&ss(m.ref,null,_),h.push(_.ref,_.__c||E,_)),w==null&&E!=null&&(w=E),4&_.__u||m.__k===_.__k?c=Gi(_,c,n):typeof _.type=="function"&&N!==void 0?c=N:E&&(c=E.nextSibling),_.__u&=-7);return e.__e=w,c}function ha(n,t,e,i,a){var o,s,l,c,r,h=e.length,p=h,m=0;for(n.__k=new Array(a),o=0;o<a;o++)(s=t[o])!=null&&typeof s!="boolean"&&typeof s!="function"?(c=o+m,(s=n.__k[o]=typeof s=="string"||typeof s=="number"||typeof s=="bigint"||s.constructor==String?ln(null,s,null,null,null):mn(s)?ln(je,{children:s},null,null,null):s.constructor==null&&s.__b>0?ln(s.type,s.props,s.key,s.ref?s.ref:null,s.__v):s).__=n,s.__b=n.__b+1,l=null,(r=s.__i=fa(s,e,c,p))!=-1&&(p--,(l=e[r])&&(l.__u|=2)),l==null||l.__v==null?(r==-1&&(a>h?m--:a<h&&m++),typeof s.type!="function"&&(s.__u|=4)):r!=c&&(r==c-1?m--:r==c+1?m++:(r>c?m--:m++,s.__u|=4))):n.__k[o]=null;if(p)for(o=0;o<h;o++)(l=e[o])!=null&&(2&l.__u)==0&&(l.__e==i&&(i=We(l)),Zi(l,l));return i}function Gi(n,t,e){var i,a;if(typeof n.type=="function"){for(i=n.__k,a=0;i&&a<i.length;a++)i[a]&&(i[a].__=n,t=Gi(i[a],t,e));return t}n.__e!=t&&(t&&n.type&&!e.contains(t)&&(t=We(n)),e.insertBefore(n.__e,t||null),t=n.__e);do t=t&&t.nextSibling;while(t!=null&&t.nodeType==8);return t}function Qi(n,t){return t=t||[],n==null||typeof n=="boolean"||(mn(n)?n.some(function(e){Qi(e,t)}):t.push(n)),t}function fa(n,t,e,i){var a,o,s=n.key,l=n.type,c=t[e];if(c===null&&n.key==null||c&&s==c.key&&l==c.type&&(2&c.__u)==0)return e;if(i>(c!=null&&(2&c.__u)==0?1:0))for(a=e-1,o=e+1;a>=0||o<t.length;){if(a>=0){if((c=t[a])&&(2&c.__u)==0&&s==c.key&&l==c.type)return a;a--}if(o<t.length){if((c=t[o])&&(2&c.__u)==0&&s==c.key&&l==c.type)return o;o++}}return-1}function Bs(n,t,e){t[0]=="-"?n.setProperty(t,e??""):n[t]=e==null?"":typeof e!="number"||da.test(t)?e:e+"px"}function Dn(n,t,e,i,a){var o;t:if(t=="style")if(typeof e=="string")n.style.cssText=e;else{if(typeof i=="string"&&(n.style.cssText=i=""),i)for(t in i)e&&t in e||Bs(n.style,t,"");if(e)for(t in e)i&&e[t]==i[t]||Bs(n.style,t,e[t])}else if(t[0]=="o"&&t[1]=="n")o=t!=(t=t.replace(Bi,"$1")),t=t.toLowerCase()in n||t=="onFocusOut"||t=="onFocusIn"?t.toLowerCase().slice(2):t.slice(2),n.l||(n.l={}),n.l[t+o]=e,e?i?e.u=i.u:(e.u=es,n.addEventListener(t,o?Yr:Br,o)):n.removeEventListener(t,o?Yr:Br,o);else{if(a=="http://www.w3.org/2000/svg")t=t.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(t!="width"&&t!="height"&&t!="href"&&t!="list"&&t!="form"&&t!="tabIndex"&&t!="download"&&t!="rowSpan"&&t!="colSpan"&&t!="role"&&t!="popover"&&t in n)try{n[t]=e??"";break t}catch{}typeof e=="function"||(e==null||e===!1&&t[4]!="-"?n.removeAttribute(t):n.setAttribute(t,t=="popover"&&e==1?"":e))}}function Ys(n){return function(t){if(this.l){var e=this.l[t.type+n];if(t.t==null)t.t=es++;else if(t.t<e.u)return;return e(q.event?q.event(t):t)}}}function rs(n,t,e,i,a,o,s,l,c,r){var h,p,m,_,E,w,N,k,L,j,I,P,H,Y,z,R,O,V=t.type;if(t.constructor!=null)return null;128&e.__u&&(c=!!(32&e.__u),o=[l=t.__e=e.__e]),(h=q.__b)&&h(t);t:if(typeof V=="function")try{if(k=t.props,L="prototype"in V&&V.prototype.render,j=(h=V.contextType)&&i[h.__c],I=h?j?j.props.value:h.__:i,e.__c?N=(p=t.__c=e.__c).__=p.__E:(L?t.__c=p=new V(k,I):(t.__c=p=new Un(k,I),p.constructor=V,p.render=ma),j&&j.sub(p),p.props=k,p.state||(p.state={}),p.context=I,p.__n=i,m=p.__d=!0,p.__h=[],p._sb=[]),L&&p.__s==null&&(p.__s=p.state),L&&V.getDerivedStateFromProps!=null&&(p.__s==p.state&&(p.__s=Kt({},p.__s)),Kt(p.__s,V.getDerivedStateFromProps(k,p.__s))),_=p.props,E=p.state,p.__v=t,m)L&&V.getDerivedStateFromProps==null&&p.componentWillMount!=null&&p.componentWillMount(),L&&p.componentDidMount!=null&&p.__h.push(p.componentDidMount);else{if(L&&V.getDerivedStateFromProps==null&&k!==_&&p.componentWillReceiveProps!=null&&p.componentWillReceiveProps(k,I),!p.__e&&p.shouldComponentUpdate!=null&&p.shouldComponentUpdate(k,p.__s,I)===!1||t.__v==e.__v){for(t.__v!=e.__v&&(p.props=k,p.state=p.__s,p.__d=!1),t.__e=e.__e,t.__k=e.__k,t.__k.some(function(tt){tt&&(tt.__=t)}),P=0;P<p._sb.length;P++)p.__h.push(p._sb[P]);p._sb=[],p.__h.length&&s.push(p);break t}p.componentWillUpdate!=null&&p.componentWillUpdate(k,p.__s,I),L&&p.componentDidUpdate!=null&&p.__h.push(function(){p.componentDidUpdate(_,E,w)})}if(p.context=I,p.props=k,p.__P=n,p.__e=!1,H=q.__r,Y=0,L){for(p.state=p.__s,p.__d=!1,H&&H(t),h=p.render(p.props,p.state,p.context),z=0;z<p._sb.length;z++)p.__h.push(p._sb[z]);p._sb=[]}else do p.__d=!1,H&&H(t),h=p.render(p.props,p.state,p.context),p.state=p.__s;while(p.__d&&++Y<25);p.state=p.__s,p.getChildContext!=null&&(i=Kt(Kt({},i),p.getChildContext())),L&&!m&&p.getSnapshotBeforeUpdate!=null&&(w=p.getSnapshotBeforeUpdate(_,E)),R=h,h!=null&&h.type===je&&h.key==null&&(R=Ji(h.props.children)),l=zi(n,mn(R)?R:[R],t,e,i,a,o,s,l,c,r),p.base=t.__e,t.__u&=-161,p.__h.length&&s.push(p),N&&(p.__E=p.__=null)}catch(tt){if(t.__v=null,c||o!=null)if(tt.then){for(t.__u|=c?160:128;l&&l.nodeType==8&&l.nextSibling;)l=l.nextSibling;o[o.indexOf(l)]=null,t.__e=l}else for(O=o.length;O--;)ns(o[O]);else t.__e=e.__e,t.__k=e.__k;q.__e(tt,t,e)}else o==null&&t.__v==e.__v?(t.__k=e.__k,t.__e=e.__e):l=t.__e=pa(e.__e,t,e,i,a,o,s,c,r);return(h=q.diffed)&&h(t),128&t.__u?void 0:l}function Xi(n,t,e){for(var i=0;i<e.length;i++)ss(e[i],e[++i],e[++i]);q.__c&&q.__c(t,n),n.some(function(a){try{n=a.__h,a.__h=[],n.some(function(o){o.call(a)})}catch(o){q.__e(o,a.__v)}})}function Ji(n){return typeof n!="object"||n==null||n.__b&&n.__b>0?n:mn(n)?n.map(Ji):Kt({},n)}function pa(n,t,e,i,a,o,s,l,c){var r,h,p,m,_,E,w,N=e.props,k=t.props,L=t.type;if(L=="svg"?a="http://www.w3.org/2000/svg":L=="math"?a="http://www.w3.org/1998/Math/MathML":a||(a="http://www.w3.org/1999/xhtml"),o!=null){for(r=0;r<o.length;r++)if((_=o[r])&&"setAttribute"in _==!!L&&(L?_.localName==L:_.nodeType==3)){n=_,o[r]=null;break}}if(n==null){if(L==null)return document.createTextNode(k);n=document.createElementNS(a,L,k.is&&k),l&&(q.__m&&q.__m(t,o),l=!1),o=null}if(L==null)N===k||l&&n.data==k||(n.data=k);else{if(o=o&&pn.call(n.childNodes),N=e.props||hn,!l&&o!=null)for(N={},r=0;r<n.attributes.length;r++)N[(_=n.attributes[r]).name]=_.value;for(r in N)if(_=N[r],r!="children"){if(r=="dangerouslySetInnerHTML")p=_;else if(!(r in k)){if(r=="value"&&"defaultValue"in k||r=="checked"&&"defaultChecked"in k)continue;Dn(n,r,null,_,a)}}for(r in k)_=k[r],r=="children"?m=_:r=="dangerouslySetInnerHTML"?h=_:r=="value"?E=_:r=="checked"?w=_:l&&typeof _!="function"||N[r]===_||Dn(n,r,_,N[r],a);if(h)l||p&&(h.__html==p.__html||h.__html==n.innerHTML)||(n.innerHTML=h.__html),t.__k=[];else if(p&&(n.innerHTML=""),zi(t.type=="template"?n.content:n,mn(m)?m:[m],t,e,i,L=="foreignObject"?"http://www.w3.org/1999/xhtml":a,o,s,o?o[0]:e.__k&&We(e,0),l,c),o!=null)for(r=o.length;r--;)ns(o[r]);l||(r="value",L=="progress"&&E==null?n.removeAttribute("value"):E!=null&&(E!==n[r]||L=="progress"&&!E||L=="option"&&E!=N[r])&&Dn(n,r,E,N[r],a),r="checked",w!=null&&w!=n[r]&&Dn(n,r,w,N[r],a))}return n}function ss(n,t,e){try{if(typeof n=="function"){var i=typeof n.__u=="function";i&&n.__u(),i&&t==null||(n.__u=n(t))}else n.current=t}catch(a){q.__e(a,e)}}function Zi(n,t,e){var i,a;if(q.unmount&&q.unmount(n),(i=n.ref)&&(i.current&&i.current!=n.__e||ss(i,null,t)),(i=n.__c)!=null){if(i.componentWillUnmount)try{i.componentWillUnmount()}catch(o){q.__e(o,t)}i.base=i.__P=null}if(i=n.__k)for(a=0;a<i.length;a++)i[a]&&Zi(i[a],t,e||typeof n.type!="function");e||ns(n.__e),n.__c=n.__=n.__e=void 0}function ma(n,t,e){return this.constructor(n,e)}function _a(n,t,e){var i,a,o,s;t==document&&(t=document.documentElement),q.__&&q.__(n,t),a=(i=!1)?null:t.__k,o=[],s=[],rs(t,n=t.__k=Te(je,null,[n]),a||hn,hn,t.namespaceURI,a?null:t.firstChild?pn.call(t.childNodes):null,o,a?a.__e:t.firstChild,i,s),Xi(o,n,s)}function Ks(n,t,e){var i,a,o,s,l=Kt({},n.props);for(o in n.type&&n.type.defaultProps&&(s=n.type.defaultProps),t)o=="key"?i=t[o]:o=="ref"?a=t[o]:l[o]=t[o]==null&&s!=null?s[o]:t[o];return arguments.length>2&&(l.children=arguments.length>3?pn.call(arguments,2):e),ln(n.type,l,i||n.key,a||n.ref,null)}function rr(n){function t(e){var i,a;return this.getChildContext||(i=new Set,(a={})[t.__c]=this,this.getChildContext=function(){return a},this.componentWillUnmount=function(){i=null},this.shouldComponentUpdate=function(o){this.props.value!=o.value&&i.forEach(function(s){s.__e=!0,Kr(s)})},this.sub=function(o){i.add(o);var s=o.componentWillUnmount;o.componentWillUnmount=function(){i&&i.delete(o),s&&s.call(o)}}),e.children}return t.__c="__cC"+Yi++,t.__=n,t.Provider=t.__l=(t.Consumer=function(e,i){return e.children(i)}).contextType=t,t}pn=Ki.slice,q={__e:function(n,t,e,i){for(var a,o,s;t=t.__;)if((a=t.__c)&&!a.__)try{if((o=a.constructor)&&o.getDerivedStateFromError!=null&&(a.setState(o.getDerivedStateFromError(n)),s=a.__d),a.componentDidCatch!=null&&(a.componentDidCatch(n,i||{}),s=a.__d),s)return a.__E=a}catch(l){n=l}throw n}},ji=0,Un.prototype.setState=function(n,t){var e;e=this.__s!=null&&this.__s!=this.state?this.__s:this.__s=Kt({},this.state),typeof n=="function"&&(n=n(Kt({},e),this.props)),n&&Kt(e,n),n!=null&&this.__v&&(t&&this._sb.push(t),Kr(this))},Un.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),Kr(this))},Un.prototype.render=je,Ae=[],Wi=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ui=function(n,t){return n.__v.__b-t.__v.__b},Gn.__r=0,Bi=/(PointerCapture)$|Capture$/i,es=0,Br=Ys(!1),Yr=Ys(!0),Yi=0;var ga=0;function u(n,t,e,i,a,o){t||(t={});var s,l,c=t;if("ref"in c)for(l in c={},t)l=="ref"?s=t[l]:c[l]=t[l];var r={type:n,props:c,key:e,ref:s,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--ga,__i:-1,__u:0,__source:a,__self:o};if(typeof n=="function"&&(s=n.defaultProps))for(l in s)c[l]===void 0&&(c[l]=s[l]);return q.vnode&&q.vnode(r),r}function va(){return u("section",{children:[u("h1",{children:"404: Not Found"}),u("p",{children:"It's gone :("})]})}var Se,Z,Tr,qs,Qn=0,to=[],nt=q,zs=nt.__b,Gs=nt.__r,Qs=nt.diffed,Xs=nt.__c,Js=nt.unmount,Zs=nt.__;function _n(n,t){nt.__h&&nt.__h(Z,n,Qn||t),Qn=0;var e=Z.__H||(Z.__H={__:[],__h:[]});return n>=e.__.length&&e.__.push({}),e.__[n]}function rt(n){return Qn=1,is(no,n)}function is(n,t,e){var i=_n(Se++,2);if(i.t=n,!i.__c&&(i.__=[no(void 0,t),function(l){var c=i.__N?i.__N[0]:i.__[0],r=i.t(c,l);c!==r&&(i.__N=[r,i.__[1]],i.__c.setState({}))}],i.__c=Z,!Z.__f)){var a=function(l,c,r){if(!i.__c.__H)return!0;var h=i.__c.__H.__.filter(function(m){return!!m.__c});if(h.every(function(m){return!m.__N}))return!o||o.call(this,l,c,r);var p=i.__c.props!==l;return h.forEach(function(m){if(m.__N){var _=m.__[0];m.__=m.__N,m.__N=void 0,_!==m.__[0]&&(p=!0)}}),o&&o.call(this,l,c,r)||p};Z.__f=!0;var o=Z.shouldComponentUpdate,s=Z.componentWillUpdate;Z.componentWillUpdate=function(l,c,r){if(this.__e){var h=o;o=void 0,a(l,c,r),o=h}s&&s.call(this,l,c,r)},Z.shouldComponentUpdate=a}return i.__N||i.__}function yt(n,t){var e=_n(Se++,3);!nt.__s&&as(e.__H,t)&&(e.__=n,e.u=t,Z.__H.__h.push(e))}function eo(n,t){var e=_n(Se++,4);!nt.__s&&as(e.__H,t)&&(e.__=n,e.u=t,Z.__h.push(e))}function ce(n){return Qn=5,os(function(){return{current:n}},[])}function os(n,t){var e=_n(Se++,7);return as(e.__H,t)&&(e.__=n(),e.__H=t,e.__h=n),e.__}function $e(n){var t=Z.context[n.__c],e=_n(Se++,9);return e.c=n,t?(e.__==null&&(e.__=!0,t.sub(Z)),t.props.value):n.__}function ba(){for(var n;n=to.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(Bn),n.__H.__h.forEach(qr),n.__H.__h=[]}catch(t){n.__H.__h=[],nt.__e(t,n.__v)}}nt.__b=function(n){Z=null,zs&&zs(n)},nt.__=function(n,t){n&&t.__k&&t.__k.__m&&(n.__m=t.__k.__m),Zs&&Zs(n,t)},nt.__r=function(n){Gs&&Gs(n),Se=0;var t=(Z=n.__c).__H;t&&(Tr===Z?(t.__h=[],Z.__h=[],t.__.forEach(function(e){e.__N&&(e.__=e.__N),e.u=e.__N=void 0})):(t.__h.forEach(Bn),t.__h.forEach(qr),t.__h=[],Se=0)),Tr=Z},nt.diffed=function(n){Qs&&Qs(n);var t=n.__c;t&&t.__H&&(t.__H.__h.length&&(to.push(t)!==1&&qs===nt.requestAnimationFrame||((qs=nt.requestAnimationFrame)||ya)(ba)),t.__H.__.forEach(function(e){e.u&&(e.__H=e.u),e.u=void 0})),Tr=Z=null},nt.__c=function(n,t){t.some(function(e){try{e.__h.forEach(Bn),e.__h=e.__h.filter(function(i){return!i.__||qr(i)})}catch(i){t.some(function(a){a.__h&&(a.__h=[])}),t=[],nt.__e(i,e.__v)}}),Xs&&Xs(n,t)},nt.unmount=function(n){Js&&Js(n);var t,e=n.__c;e&&e.__H&&(e.__H.__.forEach(function(i){try{Bn(i)}catch(a){t=a}}),e.__H=void 0,t&&nt.__e(t,e.__v))};var ti=typeof requestAnimationFrame=="function";function ya(n){var t,e=function(){clearTimeout(i),ti&&cancelAnimationFrame(t),setTimeout(n)},i=setTimeout(e,100);ti&&(t=requestAnimationFrame(e))}function Bn(n){var t=Z,e=n.__c;typeof e=="function"&&(n.__c=void 0,e()),Z=t}function qr(n){var t=Z;n.__c=n.__(),Z=t}function as(n,t){return!n||n.length!==t.length||t.some(function(e,i){return e!==n[i]})}function no(n,t){return typeof t=="function"?t(n):t}let Ee,an;const Ea=(n,t)=>{if(Ee=void 0,t&&t.type==="click"){if(t.ctrlKey||t.metaKey||t.altKey||t.shiftKey||t.button!==0)return n;const e=t.target.closest("a[href]"),i=e&&e.getAttribute("href");if(!e||e.origin!=location.origin||/^#/.test(i)||!/^(_?self)?$/i.test(e.target)||an&&(typeof an=="string"?!i.startsWith(an):!an.test(i)))return n;Ee=!0,t.preventDefault(),t=e.href.replace(location.origin,"")}else typeof t=="string"?Ee=!0:t&&t.url?(Ee=!t.replace,t=t.url):t=location.pathname+location.search;return Ee===!0?history.pushState(null,"",t):Ee===!1&&history.replaceState(null,"",t),t},Aa=(n,t,e={})=>{n=n.split("/").filter(Boolean),t=(t||"").split("/").filter(Boolean),e.params||(e.params={});for(let i=0,a,o;i<Math.max(n.length,t.length);i++){let[,s,l,c]=(t[i]||"").match(/^(:?)(.*?)([+*?]?)$/);if(a=n[i],!(!s&&l==a)){if(!s&&a&&c=="*"){e.rest="/"+n.slice(i).map(decodeURIComponent).join("/");break}if(!s||!a&&c!="?"&&c!="*")return;if(o=c=="+"||c=="*",o?a=n.slice(i).map(decodeURIComponent).join("/")||void 0:a&&(a=decodeURIComponent(a)),e.params[l]=a,l in e||(e[l]=a),o)break}}return e};function gn(n){const[t,e]=is(Ea,n.url||location.pathname+location.search);n.scope&&(an=n.scope);const i=Ee===!0,a=os(()=>{const o=new URL(t,location.origin),s=o.pathname.replace(/\/+$/g,"")||"/";return{url:t,path:s,query:Object.fromEntries(o.searchParams),route:(l,c)=>e({url:l,replace:c}),wasPush:i}},[t]);return eo(()=>(addEventListener("click",e),addEventListener("popstate",e),()=>{removeEventListener("click",e),removeEventListener("popstate",e)}),[]),Te(gn.ctx.Provider,{value:a},n.children)}const Ta=Promise.resolve();function ro(n){const[t,e]=is(R=>R+1,0),{url:i,query:a,wasPush:o,path:s}=ls(),{rest:l=s,params:c={}}=$e(ei),r=ce(!1),h=ce(s),p=ce(0),m=ce(),_=ce(),E=ce(),w=ce(!1),N=ce();N.current=!1;let k,L,j;Qi(n.children).some(R=>{if(Aa(l,R.props.path,j={...R.props,path:l,query:a,params:c,rest:""}))return k=Ks(R,j);R.props.default&&(L=Ks(R,j))});let I=k||L;const P=m.current&&m.current.__u&In&&m.current.__u&Mn,H=m.current&&m.current.__h,Y=os(()=>{_.current=m.current,m.current=Te(ei.Provider,{value:j},I);const R=_.current&&_.current.props.children;return!R||!I||I.type!==R.type||I.props.component!==R.props.component?(this.__v&&this.__v.__k&&this.__v.__k.reverse(),p.current++,!0):!1},[i,JSON.stringify(j)]);P?(m.current.__u|=In,m.current.__u|=Mn):H&&(m.current.__h=!0);const z=_.current;return _.current=null,this.__c=(R,O)=>{N.current=!0,_.current=z,n.onLoadStart&&n.onLoadStart(i),r.current=!0;let V=p.current;R.then(()=>{V===p.current&&(_.current=null,m.current&&(O.__h&&(m.current.__h=O.__h),O.__u&Mn&&(m.current.__u|=Mn),O.__u&In&&(m.current.__u|=In)),Ta.then(e))})},eo(()=>{const R=this.__v&&this.__v.__e;if(N.current){!w.current&&!E.current&&(E.current=R);return}!w.current&&E.current&&(E.current!==R&&E.current.remove(),E.current=null),w.current=!0,h.current!==s&&(o&&scrollTo(0,0),n.onRouteChange&&n.onRouteChange(i),h.current=s),n.onLoadEnd&&r.current&&n.onLoadEnd(i),r.current=!1},[s,o,t]),Y?[Te(Nr,{r:m}),Te(Nr,{r:_})]:Te(Nr,{r:m})}const In=32,Mn=128,Nr=({r:n})=>n.current;ro.Provider=gn;gn.ctx=rr({});const ei=rr({}),wr=n=>Te(n.component,n),ls=()=>$e(gn.ctx),ni=q.__b;q.__b=n=>{n.type&&n.type._forwarded&&n.ref&&(n.props.ref=n.ref,n.ref=null),ni&&ni(n)};const ri=q.__e;q.__e=(n,t,e)=>{if(n&&n.then){let i=t;for(;i=i.__;)if(i.__c&&i.__c.__c)return t.__e==null&&(t.__c.__z=[e.__e],t.__e=e.__e,t.__k=e.__k),t.__k||(t.__k=[]),i.__c.__c(n,t)}ri&&ri(n,t,e)};const xt={PHYSICAL:"physical",MAGICAL:"magical",UTILITY:"utility"},mt={OFFENSIVE:"offensive",DEFENSIVE:"defensive",UTILITY:"utility",CORE:"core"},ct={currentHealth:{defaultValue:10,label:"Current HP",type:mt.CORE},maxHealth:{defaultValue:10,label:"Max HP",type:mt.CORE},currentMp:{defaultValue:10,label:"Current MP",type:mt.CORE},maxMp:{defaultValue:10,label:"Max MP",type:mt.CORE},tempHealth:{defaultValue:0,label:"Temporary HP",type:mt.CORE},strength:{name:"Strength",shortName:"STR",icon:"fa-fist-raised",color:"danger",description:"Increases physical attack damage unless resisted/absorbed/immune. Applied as flat bonus to Physical damage rolls.",category:xt.PHYSICAL,type:mt.OFFENSIVE,defaultValue:0,displayModifier:!0,affectsRolls:!0,damageType:"physical"},vitality:{name:"Vitality",shortName:"VIT",icon:"fa-shield-alt",color:"primary-emphasis",description:"Reduces incoming Physical damage when attack is resisted. Does not affect neutral or absorbed damage.",category:xt.PHYSICAL,type:mt.DEFENSIVE,defaultValue:0,displayModifier:!0,damageReduction:!0,damageType:"physical"},magic:{name:"Magic",shortName:"MAG",icon:"fa-hand-sparkles",color:"success-emphasis",description:"Increases magical attack damage unless resisted/absorbed/immune. Applied as flat bonus.",category:xt.MAGICAL,type:mt.OFFENSIVE,defaultValue:0,displayModifier:!0,affectsRolls:!0,damageType:"magical"},spirit:{name:"Spirit",shortName:"SPR",icon:"fa-shield-heart",color:"info",description:"Reduces incoming magical damage when attack is resisted. Does not affect neutral or absorbed damage.",category:xt.MAGICAL,type:mt.DEFENSIVE,defaultValue:0,displayModifier:!0,damageReduction:!0,damageType:"magical"},speed:{name:"Speed",shortName:"SPD",icon:"fa-running",color:"secondary-emphasis",description:"Bonus to Initiative and movement distance per turn",category:xt.PHYSICAL,type:mt.UTILITY,defaultValue:0,displayModifier:!0,derived:{initiative:n=>n,movement:n=>n}},luck:{name:"Luck",shortName:"LCK",icon:"fa-clover",color:"success",description:"Affects spell draws and knockdown resistance",category:xt.MAGICAL,type:mt.UTILITY,defaultValue:0,displayModifier:!0,derived:{maxExtraDrawDice:n=>Math.min(Math.floor(n),4),knockdownBonus:n=>n}},perception:{name:"Perception",shortName:"PER",icon:"fa-eye",color:"danger-emphasis",description:"Used for Scanning for an enemy's Elemental Affinities, for noticing weak points, hidden treasure, hidden enemies etc.",category:xt.UTILITY,type:mt.UTILITY,defaultValue:0,displayModifier:!0},wisdom:{name:"Wisdom",shortName:"WIS",icon:"fa-book-open",color:"warning-emphasis",description:"Used for Recalling Knowledge of any kind: essentially every Pathfinder 2E lore skill rolled into one. Also useful in social situations.",category:xt.UTILITY,type:mt.UTILITY,defaultValue:0,displayModifier:!0},influence:{name:"Influence",shortName:"INF",icon:"fa-comments",color:"warning",description:"Used for social rolls, such as Deception, Intimidation, Performance, Diplomacy and Persuasion.",category:xt.UTILITY,type:mt.UTILITY,defaultValue:0,displayModifier:!0}},rn={CANTRIP_AND_FIRST:1,SECOND_AND_THIRD:2,FOURTH_AND_FIFTH:3,SIXTH_AND_SEVENTH:4,EIGHTH_TO_TENTH:5},Cr=n=>n<=1?rn.CANTRIP_AND_FIRST:n<=3?rn.SECOND_AND_THIRD:n<=5?rn.FOURTH_AND_FIFTH:n<=7?rn.SIXTH_AND_SEVENTH:rn.EIGHTH_TO_TENTH,vn=rr({characterStats:{},setCharacterStats:n=>{}});function Na({children:n}){const t=()=>{const o=localStorage.getItem("characterStats");if(o)return JSON.parse(o);{const s={};for(const l in ct)s[l]=ct[l].defaultValue||0;return s}},[e,i]=rt(t);yt(()=>{localStorage.setItem("characterStats",JSON.stringify(e))},[e]);const a={characterStats:e,setCharacterStats:i};return u(vn.Provider,{value:a,children:n})}const so=rr({spells:[],setSpells:n=>{},getLinkedStats:()=>[],subscribe:n=>{},unsubscribe:n=>{}}),wa=({children:n})=>{const[t,e]=rt(()=>{const c=localStorage.getItem("spells");return c?JSON.parse(c):[]}),[i,a]=rt([]);yt(()=>{localStorage.setItem("spells",JSON.stringify(t)),i.forEach(c=>c(t))},[t]);const o=()=>t.filter(c=>c.isLinked).map(c=>c.linkedStat),s=c=>{a(r=>[...r,c])},l=c=>{a(r=>r.filter(h=>h!==c))};return u(so.Provider,{value:{spells:t,setSpells:e,getLinkedStats:o,subscribe:s,unsubscribe:l},children:n})},sr=()=>$e(so);function Ca(){const{characterStats:n,setCharacterStats:t}=$e(vn),[e,i]=rt(1),[a,o]=rt(1),[s,l]=rt(!1),[c,r]=rt(!1),[h,p]=rt(!1),[m,_]=rt(!1);yt(()=>{if(s){const O=setTimeout(()=>l(!1),300);return()=>clearTimeout(O)}},[s]),yt(()=>{if(h){const O=setTimeout(()=>p(!1),300);return()=>clearTimeout(O)}},[h]),yt(()=>{if(c){const O=setTimeout(()=>r(!1),300);return()=>clearTimeout(O)}},[c]),yt(()=>{if(m){const O=setTimeout(()=>_(!1),300);return()=>clearTimeout(O)}},[m]);const E=O=>{t(V=>({...V,...O}))};yt(()=>{(n.currentMp===void 0||n.maxMp===void 0)&&t(O=>({...O,currentMp:O.currentMp||0,maxMp:O.maxMp||10}))},[]);const w=()=>{if(n.tempHealth>0){p(!0);const O=e-n.tempHealth;E({tempHealth:Math.max(0,n.tempHealth-e)}),O>0&&(l(!0),E({currentHealth:Math.max(0,n.currentHealth-O)}))}else l(!0),E({currentHealth:Math.max(0,n.currentHealth-e)});i(1)},N=()=>{r(!0),E({currentHealth:Math.min(n.maxHealth,n.currentHealth+e)}),i(1)},k=O=>{const V=Math.max(1,parseInt(O.currentTarget.value)||1);E({maxHealth:V}),n.currentHealth>V&&E({currentHealth:V})},L=()=>{_(!0),E({currentMp:Math.max(0,n.currentMp-a)}),o(1)},j=()=>{_(!0),E({currentMp:Math.min(n.maxMp,n.currentMp+a)}),o(1)},I=O=>{const V=Math.max(1,parseInt(O.currentTarget.value)||1);E({maxMp:V}),n.currentMp>V&&E({currentMp:V})},P=n.currentHealth||0,H=Math.max(1,n.maxHealth||0),Y=n.tempHealth||0,z=P/H*100,R=Y/H*100;return n.currentMp,Math.max(1,n.maxMp||0),u("div",{className:"mt-4 mb-4",children:[u("div",{className:"row justify-content-center align-items-start px-3",children:[u("div",{className:"hp-section col-12 col-md-6 d-flex flex-column align-items-sm-start",children:[u("div",{className:"d-flex justify-content-between align-items-center mb-4",children:u("h5",{className:"mb-1 text-secondary-emphasis",children:"HIT POINTS (HP)"})}),u("div",{className:"d-flex gap-3 mb-3",children:[u("div",{children:u("div",{className:"d-flex align-items-end gap-2",children:[u("div",{className:"text-center",children:[u("small",{className:"d-block mb-1 text-secondary",children:"Temp"}),u("input",{type:"number",value:n.tempHealth,onChange:O=>E({tempHealth:Math.max(0,parseInt(O.currentTarget.value)||0)}),className:`form-control hp-input text-center bg-dark text-light ${h?"damage-flash":""}`,min:"0",style:{fontSize:"1.5rem",height:"80px"}})]}),u("div",{className:"d-flex align-items-center justify-content-center",style:{width:"20px",height:"80px"},children:u("span",{className:"h4 mb-1 text-secondary",children:"+"})}),u("div",{className:"text-center",children:[u("small",{className:"d-block mb-1 text-secondary",children:"Current"}),u("input",{type:"number",value:n.currentHealth,onChange:O=>E({currentHealth:Math.max(0,Math.min(n.maxHealth,parseInt(O.currentTarget.value)||0))}),className:`form-control form-control-lg hp-input text-center bg-dark
                                            ${s?"damage-flash":""}
                                            ${c?"heal-flash":""}
                                            ${h?"temp-flash":""}`,min:"0",max:n.maxHealth})]}),u("div",{className:"d-flex align-items-center justify-content-center",style:{width:"20px",height:"80px"},children:u("span",{className:"h4 mb-1 text-secondary",children:"/"})}),u("div",{className:"text-center",children:[u("small",{className:"d-block mb-1 text-secondary",children:"Max"}),u("input",{type:"number",value:n.maxHealth,onChange:k,className:"form-control form-control-lg hp-input text-center bg-dark",min:"1"})]})]})}),u("div",{className:"d-flex gap-2",children:[u("div",{className:"text-center",style:{width:"80px",height:"80px"},children:[u("br",{}),u("button",{onClick:w,className:"btn btn-outline-danger flex-grow-1",style:{width:"80px",height:"80px"},children:[u("i",{className:"fas fa-heart-circle-minus h3 mb-1"}),u("small",{className:"d-block",children:"Damage"})]})]}),u("div",{className:"text-center",style:{width:"80px",height:"80px"},children:[u("small",{className:"d-block mb-1 text-secondary",children:"Amount"}),u("input",{type:"number",value:e,onChange:O=>i(Math.max(1,parseInt(O.currentTarget.value)||1)),className:"form-control hp-input text-center bg-dark text-light",min:"1",style:{fontSize:"1.5rem",height:"100%"}})]}),u("div",{className:"text-center",style:{width:"80px",height:"80px"},children:[u("br",{}),u("button",{onClick:N,className:"btn btn-outline-success flex-grow-1",style:{width:"80px",height:"80px"},children:[u("i",{className:"fas fa-heart-circle-plus h3 mb-1"}),u("small",{className:"d-block",children:"Heal"})]})]})]})]})]}),u("div",{className:"mp-section col-12 col-md-6 d-flex flex-column align-items-sm-end",children:[u("div",{className:"d-flex justify-content-between align-items-center mb-4",children:u("h5",{className:"mb-1 text-secondary-emphasis",children:"MANA POINTS (MP)"})}),u("div",{className:"d-flex gap-3 mb-3",children:[u("div",{children:u("div",{className:"d-flex align-items-end gap-2",children:[u("div",{className:"text-center",children:[u("small",{className:"d-block mb-1 text-secondary",children:"Current"}),u("input",{type:"number",value:n.currentMp,onChange:O=>E({currentMp:Math.max(0,Math.min(n.maxMp,parseInt(O.currentTarget.value)||0))}),className:`form-control form-control-lg hp-input text-center bg-dark text-light ${m?"mp-flash":""}`,min:"0",max:n.maxMp})]}),u("div",{className:"d-flex align-items-center justify-content-center",style:{width:"20px",height:"80px"},children:u("span",{className:"h4 mb-1 text-secondary",children:"/"})}),u("div",{className:"text-center",children:[u("small",{className:"d-block mb-1 text-secondary",children:"Max"}),u("input",{type:"number",value:n.maxMp,onChange:I,className:"form-control form-control-lg hp-input text-center bg-dark text-light",min:"1"})]})]})}),u("div",{className:"d-flex gap-2",children:[u("div",{className:"text-center",style:{width:"80px",height:"80px"},children:[u("br",{}),u("button",{onClick:L,className:"btn btn-outline-primary flex-grow-1",style:{width:"80px",height:"80px"},children:[u("i",{className:"fas fa-bolt-lightning h3 mb-1"}),u("small",{className:"d-block",children:"Use"})]})]}),u("div",{className:"text-center",style:{width:"80px",height:"80px"},children:[u("small",{className:"d-block mb-1 text-secondary",children:"Amount"}),u("input",{type:"number",value:a,onChange:O=>o(Math.max(1,parseInt(O.currentTarget.value)||1)),className:"form-control hp-input text-center bg-dark text-light",min:"1",style:{fontSize:"1.5rem",height:"100%"}})]}),u("div",{className:"text-center",style:{width:"80px",height:"80px"},children:[u("br",{}),u("button",{onClick:j,className:"btn btn-outline-info flex-grow-1",style:{width:"80px",height:"80px"},children:[u("i",{className:"fas fa-droplet h3 mb-1"}),u("small",{className:"d-block",children:"Restore"})]})]})]})]})]})]}),u("div",{className:"row justify-content-center px-3 mb-1",children:u("div",{className:"col-12",children:u("div",{className:"progress",style:{height:"16px"},children:[u("div",{className:"progress-bar progress-bar-striped bg-info",style:{width:`${R}%`,transition:"width 0.3s ease-in-out"},role:"progressbar","aria-valuenow":Y,"aria-valuemin":0,"aria-valuemax":H,children:Y>0?`${Y} Temp`:""}),u("div",{className:"progress-bar bg-success",style:{width:`${z}%`,transition:"width 0.3s ease-in-out"},role:"progressbar","aria-valuenow":P,"aria-valuemin":0,"aria-valuemax":H,children:P>0?`${P} HP`:""})]})})})]})}const lt=Object.freeze({PHYS:"Physical",FIRE:"Fire",ICE:"Cold",ELEC:"Electricity",FORCE:"Force",PSY:"Psychic",CHEM:"Chemical",RAD:"Radiant",VOID:"Void",TRUE:"Almighty"}),pt=Object.freeze({WEAK:"Weak",NEUTRAL:"Neutral",RESIST:"Resist",IMMUNE:"Immune",ABSORB:"Drain",REFLECT:"Reflect"}),cn=n=>{switch(n){case lt.PHYS:return"⚔️";case lt.CHEM:return"🧪";case lt.ICE:return"❄️";case lt.ELEC:return"⚡";case lt.FIRE:return"🔥";case lt.FORCE:return"💥";case lt.RAD:return"✨";case lt.VOID:return"🌌";case lt.PSY:return"🌀";default:return"☄️"}},bn=({title:n,titleClassName:t="text-danger",lineColor:e="var(--bs-danger)",lineThickness:i="1px",containerClassName:a="mb-3",lineMaxWidth:o="none"})=>{const s={height:i,maxWidth:o};return u("div",{className:a,children:u("div",{className:"d-flex align-items-center justify-content-center",children:[u("div",{className:"flex-grow-1",style:{...s,backgroundImage:`linear-gradient(to right, transparent, ${e})`}}),u("h5",{className:`${t} mx-3 my-0 arsenal`,children:n}),u("div",{className:"flex-grow-1",style:{...s,backgroundImage:`linear-gradient(to left, transparent, ${e})`}})]})})},Sa="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%20style='height:%20512px;%20width:%20512px;'%3e%3cg%20class=''%20transform='translate(0,0)'%20style=''%3e%3cpath%20d='m19.36%2019.457-.38%2027.84%20267.127%20154.75-58.703%2019.916%2057.602%2019.36L142.12%20383.546l-19.214-19.213-51.47%20114.324%20123.125-43.482-17.492-18.95%20151.868-151.87%2012.433%2043.078%2022.976-68.5%2056.675-16.565-57.475-15.492-22.934-79.828-14.145%2048.266-268.65-155.41-38.454-.446zM370.614%2081.94c-4.53.02-9.035.12-13.51.302-3.275.134-6.528.32-9.76.547l31.25%20108.786%20104.05%2028.045c6.204-39.085%208.902-80.275%209.18-120.075C456.37%2088.82%20415.098%2082.257%20375.15%2081.95a403.83%20403.83%200%200%200-4.537-.01zm-36.87%202.1c-31.99%203.653-61.013%2012.153-83.014%2025.87l64.493%2037.31%2018.52-63.18zm148.18%20139.997L378.958%20254.13l-38.93%20116.054-20.268-70.225-39.07%2039.067c18.814%2035.364%2046.1%2062.287%2086.175%2077.604%2047.473-17.834%2078.566-62.795%2098.014-121.6%207.323-22.14%2012.905-46.11%2017.042-70.993z'%20fill='%23fff'%20fill-opacity='1'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",xa="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%20style='height:%20512px;%20width:%20512px;'%3e%3cg%20class=''%20transform='translate(0,0)'%20style=''%3e%3cpath%20d='M362.188%2017.998c-12.9%2065.825-49.788%20140.505-98.616%20197.37L352%20224l-89.377%2019.414%2052.197%2075.27-71.111-56.364L224%20336l-8.576-73.182%202.812-2.779c-45.221%2040.71-35.888%2074.86.702%2096.49%206.775%204.005%2016.257%209.046%2027.38%208.7%2058.243-1.813%2093.255%2035.012%20126.575%2076.199%2018.234%2022.54%2048.35%2030.059%2073.529%2044.246%2052.44%2029.548%2067.894-32.667%2014.767-53.445l-70.677-111.036c-11.42-53.08%2052.186-171.824%20103.49-248.37V17.997zM92.454%2023.424v32.17l32.799%2032.79%208.043-24.126zM78.578%2067.352c-.233-.026-.57.037-1.224.199-1.31.323-3.41%201.482-5.075%203.146-1.664%201.664-2.823%203.763-3.146%205.073-.266%201.074-.207%201.3.012%201.61l120.228%20120.208%203.275-6.55%206.545-3.272L78.97%2067.563c-.123-.086-.24-.195-.39-.211zM21.162%2087.029%2062%20127.86l24.13-8.043-30.335-30.33-.397-.396-.343-.442a17.99%2017.99%200%200%201-1.112-1.619zm213.563%20103.098-28.663%2014.326-14.33%2028.654%2038.264%2015.303%2020.096-19.869z'%20fill='%23fff'%20fill-opacity='1'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",Oa="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20512%20512'%20style='height:%20512px;%20width:%20512px;'%3e%3cg%20class=''%20transform='translate(0,0)'%20style=''%3e%3cpath%20d='M372.48%2031.215c-77.65%200-116.48%2065.73-116.48%2065.73s-38.83-65.72-116.48-65.72c-37.14%200-107.77%2033.72-107.77%20125.13%200%20161.24%20224.25%20324.43%20224.25%20324.43s224.25-163.19%20224.25-324.43c0-91.42-70.63-125.13-107.77-125.14zm-145.492%20115.02h60.698v79.415h79.238v60.7h-79.238v79.884h-60.698V286.35h-80.064v-60.7h80.064z'%20fill='%23fff'%20fill-opacity='1'%3e%3c/path%3e%3c/g%3e%3c/svg%3e",$a=()=>{const{characterStats:n,setCharacterStats:t}=$e(vn),[e,i]=rt(null);yt(()=>{let r=!n.affinities;if(n.affinities){const h=Object.keys(lt)[0];h&&n.affinities[lt[h]]&&typeof n.affinities[lt[h]]!="object"&&(r=!0)}if(r){const h={};Object.values(lt).forEach(p=>{h[p]={type:pt.NEUTRAL,mastered:!1}}),t(p=>({...p,affinities:h}))}},[n.affinities,t]);const a=r=>{i(h=>h===r?null:r)},o=(r,h)=>{t(p=>{var m;return{...p,affinities:{...p.affinities,[r]:{...((m=p.affinities)==null?void 0:m[r])||{type:pt.NEUTRAL,mastered:!1},type:h}}}})},s=r=>{t(h=>{var p,m,_;return{...h,affinities:{...h.affinities,[r]:{...((p=h.affinities)==null?void 0:p[r])||{type:pt.NEUTRAL,mastered:!1},mastered:!((_=(m=h.affinities)==null?void 0:m[r])!=null&&_.mastered)}}}})},l=r=>{switch(r){case pt.WEAK:return"danger";case pt.RESIST:return"info";case pt.IMMUNE:return"warning";case pt.ABSORB:return"success";case pt.REFLECT:return"primary";default:return"secondary"}},c=r=>{const h={width:"1.25em",height:"1.25em",color:"white"};switch(r){case pt.WEAK:return u("img",{src:xa,alt:"Weak",style:h});case pt.RESIST:return u("i",{className:"fas fa-shield-alt",style:h});case pt.IMMUNE:return u("i",{className:"fas fa-ban",style:h});case pt.ABSORB:return u("img",{src:Oa,alt:"Absorb",style:h});case pt.REFLECT:return u("img",{src:Sa,alt:"Reflect",style:h});default:return u("i",{className:"fas fa-minus",style:h})}};return!n.affinities||typeof n.affinities[Object.values(lt)[0]]!="object"?u("div",{className:"p-3",children:"Loading affinities..."}):u("div",{className:"affinity-tracker p-3",children:[u(bn,{title:"ELEMENTAL AFFINITIES"}),u("div",{className:"element-grid mt-4",children:Object.values(lt).map(r=>{const h=n.affinities[r]||{type:pt.NEUTRAL,mastered:!1};return u("div",{className:`element-item clickable-card mb-3 ${h.mastered?"gold-bg":""} ${e===r?"editing":""}`,onClick:()=>a(r),children:[h.mastered&&u("div",{className:"mastery-watermark",children:"MASTERY"}),u("div",{className:"element-header d-flex align-items-center justify-content-between mb-1",children:[u("div",{className:"d-flex align-items-center",children:[u("span",{className:"element-name",children:[cn(r)," ",u("span",{className:"arsenal",children:[r,":"]})]}),u("span",{className:`arsenal ms-1 text-${l(h.type)}`,children:h.type})]}),u("button",{onClick:p=>{p.stopPropagation(),s(r)},title:h.mastered?"Disable Mastery":"Enable Mastery",style:{border:"none",padding:0,background:"none",color:h.mastered?"gold":"currentColor",cursor:"pointer",fontSize:"1rem"},children:u("i",{className:`${h.mastered?"fas fa-star":"fa-regular fa-star"}`})})]}),e===r&&u("div",{className:"affinity-buttons btn-group d-flex flex-wrap mt-2",children:Object.values(pt).map(p=>u("button",{className:`btn btn-${h.type===p?l(p):"dark inactive-btn"}`,onClick:m=>{m.stopPropagation(),o(r,p)},title:p,children:c(p)},p))})]},r)})})]})};function ka(){return u("div",{className:"character-sheet container-fluid",children:u("div",{className:"column",children:[u(Ca,{}),u($a,{})]})})}var _t="top",Ot="bottom",$t="right",gt="left",ir="auto",Qe=[_t,Ot,$t,gt],xe="start",Ue="end",io="clippingParents",cs="viewport",Pe="popper",oo="reference",zr=Qe.reduce(function(n,t){return n.concat([t+"-"+xe,t+"-"+Ue])},[]),us=[].concat(Qe,[ir]).reduce(function(n,t){return n.concat([t,t+"-"+xe,t+"-"+Ue])},[]),ao="beforeRead",lo="read",co="afterRead",uo="beforeMain",ho="main",fo="afterMain",po="beforeWrite",mo="write",_o="afterWrite",go=[ao,lo,co,uo,ho,fo,po,mo,_o];function Gt(n){return n?(n.nodeName||"").toLowerCase():null}function kt(n){if(n==null)return window;if(n.toString()!=="[object Window]"){var t=n.ownerDocument;return t&&t.defaultView||window}return n}function Oe(n){var t=kt(n).Element;return n instanceof t||n instanceof Element}function Mt(n){var t=kt(n).HTMLElement;return n instanceof t||n instanceof HTMLElement}function ds(n){if(typeof ShadowRoot>"u")return!1;var t=kt(n).ShadowRoot;return n instanceof t||n instanceof ShadowRoot}function La(n){var t=n.state;Object.keys(t.elements).forEach(function(e){var i=t.styles[e]||{},a=t.attributes[e]||{},o=t.elements[e];!Mt(o)||!Gt(o)||(Object.assign(o.style,i),Object.keys(a).forEach(function(s){var l=a[s];l===!1?o.removeAttribute(s):o.setAttribute(s,l===!0?"":l)}))})}function Da(n){var t=n.state,e={popper:{position:t.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(t.elements.popper.style,e.popper),t.styles=e,t.elements.arrow&&Object.assign(t.elements.arrow.style,e.arrow),function(){Object.keys(t.elements).forEach(function(i){var a=t.elements[i],o=t.attributes[i]||{},s=Object.keys(t.styles.hasOwnProperty(i)?t.styles[i]:e[i]),l=s.reduce(function(c,r){return c[r]="",c},{});!Mt(a)||!Gt(a)||(Object.assign(a.style,l),Object.keys(o).forEach(function(c){a.removeAttribute(c)}))})}}const hs={name:"applyStyles",enabled:!0,phase:"write",fn:La,effect:Da,requires:["computeStyles"]};function qt(n){return n.split("-")[0]}var Ce=Math.max,Xn=Math.min,Be=Math.round;function Gr(){var n=navigator.userAgentData;return n!=null&&n.brands&&Array.isArray(n.brands)?n.brands.map(function(t){return t.brand+"/"+t.version}).join(" "):navigator.userAgent}function vo(){return!/^((?!chrome|android).)*safari/i.test(Gr())}function Ye(n,t,e){t===void 0&&(t=!1),e===void 0&&(e=!1);var i=n.getBoundingClientRect(),a=1,o=1;t&&Mt(n)&&(a=n.offsetWidth>0&&Be(i.width)/n.offsetWidth||1,o=n.offsetHeight>0&&Be(i.height)/n.offsetHeight||1);var s=Oe(n)?kt(n):window,l=s.visualViewport,c=!vo()&&e,r=(i.left+(c&&l?l.offsetLeft:0))/a,h=(i.top+(c&&l?l.offsetTop:0))/o,p=i.width/a,m=i.height/o;return{width:p,height:m,top:h,right:r+p,bottom:h+m,left:r,x:r,y:h}}function fs(n){var t=Ye(n),e=n.offsetWidth,i=n.offsetHeight;return Math.abs(t.width-e)<=1&&(e=t.width),Math.abs(t.height-i)<=1&&(i=t.height),{x:n.offsetLeft,y:n.offsetTop,width:e,height:i}}function bo(n,t){var e=t.getRootNode&&t.getRootNode();if(n.contains(t))return!0;if(e&&ds(e)){var i=t;do{if(i&&n.isSameNode(i))return!0;i=i.parentNode||i.host}while(i)}return!1}function se(n){return kt(n).getComputedStyle(n)}function Ia(n){return["table","td","th"].indexOf(Gt(n))>=0}function me(n){return((Oe(n)?n.ownerDocument:n.document)||window.document).documentElement}function or(n){return Gt(n)==="html"?n:n.assignedSlot||n.parentNode||(ds(n)?n.host:null)||me(n)}function si(n){return!Mt(n)||se(n).position==="fixed"?null:n.offsetParent}function Ma(n){var t=/firefox/i.test(Gr()),e=/Trident/i.test(Gr());if(e&&Mt(n)){var i=se(n);if(i.position==="fixed")return null}var a=or(n);for(ds(a)&&(a=a.host);Mt(a)&&["html","body"].indexOf(Gt(a))<0;){var o=se(a);if(o.transform!=="none"||o.perspective!=="none"||o.contain==="paint"||["transform","perspective"].indexOf(o.willChange)!==-1||t&&o.willChange==="filter"||t&&o.filter&&o.filter!=="none")return a;a=a.parentNode}return null}function yn(n){for(var t=kt(n),e=si(n);e&&Ia(e)&&se(e).position==="static";)e=si(e);return e&&(Gt(e)==="html"||Gt(e)==="body"&&se(e).position==="static")?t:e||Ma(n)||t}function ps(n){return["top","bottom"].indexOf(n)>=0?"x":"y"}function un(n,t,e){return Ce(n,Xn(t,e))}function Ra(n,t,e){var i=un(n,t,e);return i>e?e:i}function yo(){return{top:0,right:0,bottom:0,left:0}}function Eo(n){return Object.assign({},yo(),n)}function Ao(n,t){return t.reduce(function(e,i){return e[i]=n,e},{})}var Pa=function(t,e){return t=typeof t=="function"?t(Object.assign({},e.rects,{placement:e.placement})):t,Eo(typeof t!="number"?t:Ao(t,Qe))};function Ha(n){var t,e=n.state,i=n.name,a=n.options,o=e.elements.arrow,s=e.modifiersData.popperOffsets,l=qt(e.placement),c=ps(l),r=[gt,$t].indexOf(l)>=0,h=r?"height":"width";if(!(!o||!s)){var p=Pa(a.padding,e),m=fs(o),_=c==="y"?_t:gt,E=c==="y"?Ot:$t,w=e.rects.reference[h]+e.rects.reference[c]-s[c]-e.rects.popper[h],N=s[c]-e.rects.reference[c],k=yn(o),L=k?c==="y"?k.clientHeight||0:k.clientWidth||0:0,j=w/2-N/2,I=p[_],P=L-m[h]-p[E],H=L/2-m[h]/2+j,Y=un(I,H,P),z=c;e.modifiersData[i]=(t={},t[z]=Y,t.centerOffset=Y-H,t)}}function Fa(n){var t=n.state,e=n.options,i=e.element,a=i===void 0?"[data-popper-arrow]":i;a!=null&&(typeof a=="string"&&(a=t.elements.popper.querySelector(a),!a)||bo(t.elements.popper,a)&&(t.elements.arrow=a))}const To={name:"arrow",enabled:!0,phase:"main",fn:Ha,effect:Fa,requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function Ke(n){return n.split("-")[1]}var Va={top:"auto",right:"auto",bottom:"auto",left:"auto"};function ja(n,t){var e=n.x,i=n.y,a=t.devicePixelRatio||1;return{x:Be(e*a)/a||0,y:Be(i*a)/a||0}}function ii(n){var t,e=n.popper,i=n.popperRect,a=n.placement,o=n.variation,s=n.offsets,l=n.position,c=n.gpuAcceleration,r=n.adaptive,h=n.roundOffsets,p=n.isFixed,m=s.x,_=m===void 0?0:m,E=s.y,w=E===void 0?0:E,N=typeof h=="function"?h({x:_,y:w}):{x:_,y:w};_=N.x,w=N.y;var k=s.hasOwnProperty("x"),L=s.hasOwnProperty("y"),j=gt,I=_t,P=window;if(r){var H=yn(e),Y="clientHeight",z="clientWidth";if(H===kt(e)&&(H=me(e),se(H).position!=="static"&&l==="absolute"&&(Y="scrollHeight",z="scrollWidth")),H=H,a===_t||(a===gt||a===$t)&&o===Ue){I=Ot;var R=p&&H===P&&P.visualViewport?P.visualViewport.height:H[Y];w-=R-i.height,w*=c?1:-1}if(a===gt||(a===_t||a===Ot)&&o===Ue){j=$t;var O=p&&H===P&&P.visualViewport?P.visualViewport.width:H[z];_-=O-i.width,_*=c?1:-1}}var V=Object.assign({position:l},r&&Va),tt=h===!0?ja({x:_,y:w},kt(e)):{x:_,y:w};if(_=tt.x,w=tt.y,c){var st;return Object.assign({},V,(st={},st[I]=L?"0":"",st[j]=k?"0":"",st.transform=(P.devicePixelRatio||1)<=1?"translate("+_+"px, "+w+"px)":"translate3d("+_+"px, "+w+"px, 0)",st))}return Object.assign({},V,(t={},t[I]=L?w+"px":"",t[j]=k?_+"px":"",t.transform="",t))}function Wa(n){var t=n.state,e=n.options,i=e.gpuAcceleration,a=i===void 0?!0:i,o=e.adaptive,s=o===void 0?!0:o,l=e.roundOffsets,c=l===void 0?!0:l,r={placement:qt(t.placement),variation:Ke(t.placement),popper:t.elements.popper,popperRect:t.rects.popper,gpuAcceleration:a,isFixed:t.options.strategy==="fixed"};t.modifiersData.popperOffsets!=null&&(t.styles.popper=Object.assign({},t.styles.popper,ii(Object.assign({},r,{offsets:t.modifiersData.popperOffsets,position:t.options.strategy,adaptive:s,roundOffsets:c})))),t.modifiersData.arrow!=null&&(t.styles.arrow=Object.assign({},t.styles.arrow,ii(Object.assign({},r,{offsets:t.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-placement":t.placement})}const ms={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:Wa,data:{}};var Rn={passive:!0};function Ua(n){var t=n.state,e=n.instance,i=n.options,a=i.scroll,o=a===void 0?!0:a,s=i.resize,l=s===void 0?!0:s,c=kt(t.elements.popper),r=[].concat(t.scrollParents.reference,t.scrollParents.popper);return o&&r.forEach(function(h){h.addEventListener("scroll",e.update,Rn)}),l&&c.addEventListener("resize",e.update,Rn),function(){o&&r.forEach(function(h){h.removeEventListener("scroll",e.update,Rn)}),l&&c.removeEventListener("resize",e.update,Rn)}}const _s={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:Ua,data:{}};var Ba={left:"right",right:"left",bottom:"top",top:"bottom"};function Yn(n){return n.replace(/left|right|bottom|top/g,function(t){return Ba[t]})}var Ya={start:"end",end:"start"};function oi(n){return n.replace(/start|end/g,function(t){return Ya[t]})}function gs(n){var t=kt(n),e=t.pageXOffset,i=t.pageYOffset;return{scrollLeft:e,scrollTop:i}}function vs(n){return Ye(me(n)).left+gs(n).scrollLeft}function Ka(n,t){var e=kt(n),i=me(n),a=e.visualViewport,o=i.clientWidth,s=i.clientHeight,l=0,c=0;if(a){o=a.width,s=a.height;var r=vo();(r||!r&&t==="fixed")&&(l=a.offsetLeft,c=a.offsetTop)}return{width:o,height:s,x:l+vs(n),y:c}}function qa(n){var t,e=me(n),i=gs(n),a=(t=n.ownerDocument)==null?void 0:t.body,o=Ce(e.scrollWidth,e.clientWidth,a?a.scrollWidth:0,a?a.clientWidth:0),s=Ce(e.scrollHeight,e.clientHeight,a?a.scrollHeight:0,a?a.clientHeight:0),l=-i.scrollLeft+vs(n),c=-i.scrollTop;return se(a||e).direction==="rtl"&&(l+=Ce(e.clientWidth,a?a.clientWidth:0)-o),{width:o,height:s,x:l,y:c}}function bs(n){var t=se(n),e=t.overflow,i=t.overflowX,a=t.overflowY;return/auto|scroll|overlay|hidden/.test(e+a+i)}function No(n){return["html","body","#document"].indexOf(Gt(n))>=0?n.ownerDocument.body:Mt(n)&&bs(n)?n:No(or(n))}function dn(n,t){var e;t===void 0&&(t=[]);var i=No(n),a=i===((e=n.ownerDocument)==null?void 0:e.body),o=kt(i),s=a?[o].concat(o.visualViewport||[],bs(i)?i:[]):i,l=t.concat(s);return a?l:l.concat(dn(or(s)))}function Qr(n){return Object.assign({},n,{left:n.x,top:n.y,right:n.x+n.width,bottom:n.y+n.height})}function za(n,t){var e=Ye(n,!1,t==="fixed");return e.top=e.top+n.clientTop,e.left=e.left+n.clientLeft,e.bottom=e.top+n.clientHeight,e.right=e.left+n.clientWidth,e.width=n.clientWidth,e.height=n.clientHeight,e.x=e.left,e.y=e.top,e}function ai(n,t,e){return t===cs?Qr(Ka(n,e)):Oe(t)?za(t,e):Qr(qa(me(n)))}function Ga(n){var t=dn(or(n)),e=["absolute","fixed"].indexOf(se(n).position)>=0,i=e&&Mt(n)?yn(n):n;return Oe(i)?t.filter(function(a){return Oe(a)&&bo(a,i)&&Gt(a)!=="body"}):[]}function Qa(n,t,e,i){var a=t==="clippingParents"?Ga(n):[].concat(t),o=[].concat(a,[e]),s=o[0],l=o.reduce(function(c,r){var h=ai(n,r,i);return c.top=Ce(h.top,c.top),c.right=Xn(h.right,c.right),c.bottom=Xn(h.bottom,c.bottom),c.left=Ce(h.left,c.left),c},ai(n,s,i));return l.width=l.right-l.left,l.height=l.bottom-l.top,l.x=l.left,l.y=l.top,l}function wo(n){var t=n.reference,e=n.element,i=n.placement,a=i?qt(i):null,o=i?Ke(i):null,s=t.x+t.width/2-e.width/2,l=t.y+t.height/2-e.height/2,c;switch(a){case _t:c={x:s,y:t.y-e.height};break;case Ot:c={x:s,y:t.y+t.height};break;case $t:c={x:t.x+t.width,y:l};break;case gt:c={x:t.x-e.width,y:l};break;default:c={x:t.x,y:t.y}}var r=a?ps(a):null;if(r!=null){var h=r==="y"?"height":"width";switch(o){case xe:c[r]=c[r]-(t[h]/2-e[h]/2);break;case Ue:c[r]=c[r]+(t[h]/2-e[h]/2);break}}return c}function qe(n,t){t===void 0&&(t={});var e=t,i=e.placement,a=i===void 0?n.placement:i,o=e.strategy,s=o===void 0?n.strategy:o,l=e.boundary,c=l===void 0?io:l,r=e.rootBoundary,h=r===void 0?cs:r,p=e.elementContext,m=p===void 0?Pe:p,_=e.altBoundary,E=_===void 0?!1:_,w=e.padding,N=w===void 0?0:w,k=Eo(typeof N!="number"?N:Ao(N,Qe)),L=m===Pe?oo:Pe,j=n.rects.popper,I=n.elements[E?L:m],P=Qa(Oe(I)?I:I.contextElement||me(n.elements.popper),c,h,s),H=Ye(n.elements.reference),Y=wo({reference:H,element:j,placement:a}),z=Qr(Object.assign({},j,Y)),R=m===Pe?z:H,O={top:P.top-R.top+k.top,bottom:R.bottom-P.bottom+k.bottom,left:P.left-R.left+k.left,right:R.right-P.right+k.right},V=n.modifiersData.offset;if(m===Pe&&V){var tt=V[a];Object.keys(O).forEach(function(st){var Ft=[$t,Ot].indexOf(st)>=0?1:-1,ut=[_t,Ot].indexOf(st)>=0?"y":"x";O[st]+=tt[ut]*Ft})}return O}function Xa(n,t){t===void 0&&(t={});var e=t,i=e.placement,a=e.boundary,o=e.rootBoundary,s=e.padding,l=e.flipVariations,c=e.allowedAutoPlacements,r=c===void 0?us:c,h=Ke(i),p=h?l?zr:zr.filter(function(E){return Ke(E)===h}):Qe,m=p.filter(function(E){return r.indexOf(E)>=0});m.length===0&&(m=p);var _=m.reduce(function(E,w){return E[w]=qe(n,{placement:w,boundary:a,rootBoundary:o,padding:s})[qt(w)],E},{});return Object.keys(_).sort(function(E,w){return _[E]-_[w]})}function Ja(n){if(qt(n)===ir)return[];var t=Yn(n);return[oi(n),t,oi(t)]}function Za(n){var t=n.state,e=n.options,i=n.name;if(!t.modifiersData[i]._skip){for(var a=e.mainAxis,o=a===void 0?!0:a,s=e.altAxis,l=s===void 0?!0:s,c=e.fallbackPlacements,r=e.padding,h=e.boundary,p=e.rootBoundary,m=e.altBoundary,_=e.flipVariations,E=_===void 0?!0:_,w=e.allowedAutoPlacements,N=t.options.placement,k=qt(N),L=k===N,j=c||(L||!E?[Yn(N)]:Ja(N)),I=[N].concat(j).reduce(function(Tt,Nt){return Tt.concat(qt(Nt)===ir?Xa(t,{placement:Nt,boundary:h,rootBoundary:p,padding:r,flipVariations:E,allowedAutoPlacements:w}):Nt)},[]),P=t.rects.reference,H=t.rects.popper,Y=new Map,z=!0,R=I[0],O=0;O<I.length;O++){var V=I[O],tt=qt(V),st=Ke(V)===xe,Ft=[_t,Ot].indexOf(tt)>=0,ut=Ft?"width":"height",ot=qe(t,{placement:V,boundary:h,rootBoundary:p,altBoundary:m,padding:r}),dt=Ft?st?$t:gt:st?Ot:_t;P[ut]>H[ut]&&(dt=Yn(dt));var Qt=Yn(dt),At=[];if(o&&At.push(ot[tt]<=0),l&&At.push(ot[dt]<=0,ot[Qt]<=0),At.every(function(Tt){return Tt})){R=V,z=!1;break}Y.set(V,At)}if(z)for(var Vt=E?3:1,Xt=function(Nt){var Wt=I.find(function(Lt){var ht=Y.get(Lt);if(ht)return ht.slice(0,Nt).every(function(ae){return ae})});if(Wt)return R=Wt,"break"},Jt=Vt;Jt>0;Jt--){var oe=Xt(Jt);if(oe==="break")break}t.placement!==R&&(t.modifiersData[i]._skip=!0,t.placement=R,t.reset=!0)}}const Co={name:"flip",enabled:!0,phase:"main",fn:Za,requiresIfExists:["offset"],data:{_skip:!1}};function li(n,t,e){return e===void 0&&(e={x:0,y:0}),{top:n.top-t.height-e.y,right:n.right-t.width+e.x,bottom:n.bottom-t.height+e.y,left:n.left-t.width-e.x}}function ci(n){return[_t,$t,Ot,gt].some(function(t){return n[t]>=0})}function tl(n){var t=n.state,e=n.name,i=t.rects.reference,a=t.rects.popper,o=t.modifiersData.preventOverflow,s=qe(t,{elementContext:"reference"}),l=qe(t,{altBoundary:!0}),c=li(s,i),r=li(l,a,o),h=ci(c),p=ci(r);t.modifiersData[e]={referenceClippingOffsets:c,popperEscapeOffsets:r,isReferenceHidden:h,hasPopperEscaped:p},t.attributes.popper=Object.assign({},t.attributes.popper,{"data-popper-reference-hidden":h,"data-popper-escaped":p})}const So={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:tl};function el(n,t,e){var i=qt(n),a=[gt,_t].indexOf(i)>=0?-1:1,o=typeof e=="function"?e(Object.assign({},t,{placement:n})):e,s=o[0],l=o[1];return s=s||0,l=(l||0)*a,[gt,$t].indexOf(i)>=0?{x:l,y:s}:{x:s,y:l}}function nl(n){var t=n.state,e=n.options,i=n.name,a=e.offset,o=a===void 0?[0,0]:a,s=us.reduce(function(h,p){return h[p]=el(p,t.rects,o),h},{}),l=s[t.placement],c=l.x,r=l.y;t.modifiersData.popperOffsets!=null&&(t.modifiersData.popperOffsets.x+=c,t.modifiersData.popperOffsets.y+=r),t.modifiersData[i]=s}const xo={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:nl};function rl(n){var t=n.state,e=n.name;t.modifiersData[e]=wo({reference:t.rects.reference,element:t.rects.popper,placement:t.placement})}const ys={name:"popperOffsets",enabled:!0,phase:"read",fn:rl,data:{}};function sl(n){return n==="x"?"y":"x"}function il(n){var t=n.state,e=n.options,i=n.name,a=e.mainAxis,o=a===void 0?!0:a,s=e.altAxis,l=s===void 0?!1:s,c=e.boundary,r=e.rootBoundary,h=e.altBoundary,p=e.padding,m=e.tether,_=m===void 0?!0:m,E=e.tetherOffset,w=E===void 0?0:E,N=qe(t,{boundary:c,rootBoundary:r,padding:p,altBoundary:h}),k=qt(t.placement),L=Ke(t.placement),j=!L,I=ps(k),P=sl(I),H=t.modifiersData.popperOffsets,Y=t.rects.reference,z=t.rects.popper,R=typeof w=="function"?w(Object.assign({},t.rects,{placement:t.placement})):w,O=typeof R=="number"?{mainAxis:R,altAxis:R}:Object.assign({mainAxis:0,altAxis:0},R),V=t.modifiersData.offset?t.modifiersData.offset[t.placement]:null,tt={x:0,y:0};if(H){if(o){var st,Ft=I==="y"?_t:gt,ut=I==="y"?Ot:$t,ot=I==="y"?"height":"width",dt=H[I],Qt=dt+N[Ft],At=dt-N[ut],Vt=_?-z[ot]/2:0,Xt=L===xe?Y[ot]:z[ot],Jt=L===xe?-z[ot]:-Y[ot],oe=t.elements.arrow,Tt=_&&oe?fs(oe):{width:0,height:0},Nt=t.modifiersData["arrow#persistent"]?t.modifiersData["arrow#persistent"].padding:yo(),Wt=Nt[Ft],Lt=Nt[ut],ht=un(0,Y[ot],Tt[ot]),ae=j?Y[ot]/2-Vt-ht-Wt-O.mainAxis:Xt-ht-Wt-O.mainAxis,Ie=j?-Y[ot]/2+Vt+ht+Lt+O.mainAxis:Jt+ht+Lt+O.mainAxis,Ut=t.elements.arrow&&yn(t.elements.arrow),le=Ut?I==="y"?Ut.clientTop||0:Ut.clientLeft||0:0,ve=(st=V==null?void 0:V[I])!=null?st:0,y=dt+ae-ve-le,F=dt+Ie-ve,x=un(_?Xn(Qt,y):Qt,dt,_?Ce(At,F):At);H[I]=x,tt[I]=x-dt}if(l){var X,at=I==="x"?_t:gt,be=I==="x"?Ot:$t,Dt=H[P],Zt=P==="y"?"height":"width",ye=Dt+N[at],Cn=Dt-N[be],Ze=[_t,gt].indexOf(k)!==-1,tn=(X=V==null?void 0:V[P])!=null?X:0,en=Ze?ye:Dt-Y[Zt]-z[Zt]-tn+O.altAxis,d=Ze?Dt+Y[Zt]+z[Zt]-tn-O.altAxis:Cn,W=_&&Ze?Ra(en,Dt,d):un(_?en:ye,Dt,_?d:Cn);H[P]=W,tt[P]=W-Dt}t.modifiersData[i]=tt}}const Oo={name:"preventOverflow",enabled:!0,phase:"main",fn:il,requiresIfExists:["offset"]};function ol(n){return{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}}function al(n){return n===kt(n)||!Mt(n)?gs(n):ol(n)}function ll(n){var t=n.getBoundingClientRect(),e=Be(t.width)/n.offsetWidth||1,i=Be(t.height)/n.offsetHeight||1;return e!==1||i!==1}function cl(n,t,e){e===void 0&&(e=!1);var i=Mt(t),a=Mt(t)&&ll(t),o=me(t),s=Ye(n,a,e),l={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(i||!i&&!e)&&((Gt(t)!=="body"||bs(o))&&(l=al(t)),Mt(t)?(c=Ye(t,!0),c.x+=t.clientLeft,c.y+=t.clientTop):o&&(c.x=vs(o))),{x:s.left+l.scrollLeft-c.x,y:s.top+l.scrollTop-c.y,width:s.width,height:s.height}}function ul(n){var t=new Map,e=new Set,i=[];n.forEach(function(o){t.set(o.name,o)});function a(o){e.add(o.name);var s=[].concat(o.requires||[],o.requiresIfExists||[]);s.forEach(function(l){if(!e.has(l)){var c=t.get(l);c&&a(c)}}),i.push(o)}return n.forEach(function(o){e.has(o.name)||a(o)}),i}function dl(n){var t=ul(n);return go.reduce(function(e,i){return e.concat(t.filter(function(a){return a.phase===i}))},[])}function hl(n){var t;return function(){return t||(t=new Promise(function(e){Promise.resolve().then(function(){t=void 0,e(n())})})),t}}function fl(n){var t=n.reduce(function(e,i){var a=e[i.name];return e[i.name]=a?Object.assign({},a,i,{options:Object.assign({},a.options,i.options),data:Object.assign({},a.data,i.data)}):i,e},{});return Object.keys(t).map(function(e){return t[e]})}var ui={placement:"bottom",modifiers:[],strategy:"absolute"};function di(){for(var n=arguments.length,t=new Array(n),e=0;e<n;e++)t[e]=arguments[e];return!t.some(function(i){return!(i&&typeof i.getBoundingClientRect=="function")})}function ar(n){n===void 0&&(n={});var t=n,e=t.defaultModifiers,i=e===void 0?[]:e,a=t.defaultOptions,o=a===void 0?ui:a;return function(l,c,r){r===void 0&&(r=o);var h={placement:"bottom",orderedModifiers:[],options:Object.assign({},ui,o),modifiersData:{},elements:{reference:l,popper:c},attributes:{},styles:{}},p=[],m=!1,_={state:h,setOptions:function(k){var L=typeof k=="function"?k(h.options):k;w(),h.options=Object.assign({},o,h.options,L),h.scrollParents={reference:Oe(l)?dn(l):l.contextElement?dn(l.contextElement):[],popper:dn(c)};var j=dl(fl([].concat(i,h.options.modifiers)));return h.orderedModifiers=j.filter(function(I){return I.enabled}),E(),_.update()},forceUpdate:function(){if(!m){var k=h.elements,L=k.reference,j=k.popper;if(di(L,j)){h.rects={reference:cl(L,yn(j),h.options.strategy==="fixed"),popper:fs(j)},h.reset=!1,h.placement=h.options.placement,h.orderedModifiers.forEach(function(O){return h.modifiersData[O.name]=Object.assign({},O.data)});for(var I=0;I<h.orderedModifiers.length;I++){if(h.reset===!0){h.reset=!1,I=-1;continue}var P=h.orderedModifiers[I],H=P.fn,Y=P.options,z=Y===void 0?{}:Y,R=P.name;typeof H=="function"&&(h=H({state:h,options:z,name:R,instance:_})||h)}}}},update:hl(function(){return new Promise(function(N){_.forceUpdate(),N(h)})}),destroy:function(){w(),m=!0}};if(!di(l,c))return _;_.setOptions(r).then(function(N){!m&&r.onFirstUpdate&&r.onFirstUpdate(N)});function E(){h.orderedModifiers.forEach(function(N){var k=N.name,L=N.options,j=L===void 0?{}:L,I=N.effect;if(typeof I=="function"){var P=I({state:h,name:k,instance:_,options:j}),H=function(){};p.push(P||H)}})}function w(){p.forEach(function(N){return N()}),p=[]}return _}}var pl=ar(),ml=[_s,ys,ms,hs],_l=ar({defaultModifiers:ml}),gl=[_s,ys,ms,hs,xo,Co,Oo,To,So],Es=ar({defaultModifiers:gl});const $o=Object.freeze(Object.defineProperty({__proto__:null,afterMain:fo,afterRead:co,afterWrite:_o,applyStyles:hs,arrow:To,auto:ir,basePlacements:Qe,beforeMain:uo,beforeRead:ao,beforeWrite:po,bottom:Ot,clippingParents:io,computeStyles:ms,createPopper:Es,createPopperBase:pl,createPopperLite:_l,detectOverflow:qe,end:Ue,eventListeners:_s,flip:Co,hide:So,left:gt,main:ho,modifierPhases:go,offset:xo,placements:us,popper:Pe,popperGenerator:ar,popperOffsets:ys,preventOverflow:Oo,read:lo,reference:oo,right:$t,start:xe,top:_t,variationPlacements:zr,viewport:cs,write:mo},Symbol.toStringTag,{value:"Module"}));/*!
  * Bootstrap v5.3.6 (https://getbootstrap.com/)
  * Copyright 2011-2025 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */const ue=new Map,Sr={set(n,t,e){ue.has(n)||ue.set(n,new Map);const i=ue.get(n);if(!i.has(t)&&i.size!==0){console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(i.keys())[0]}.`);return}i.set(t,e)},get(n,t){return ue.has(n)&&ue.get(n).get(t)||null},remove(n,t){if(!ue.has(n))return;const e=ue.get(n);e.delete(t),e.size===0&&ue.delete(n)}},vl=1e6,bl=1e3,Xr="transitionend",ko=n=>(n&&window.CSS&&window.CSS.escape&&(n=n.replace(/#([^\s"#']+)/g,(t,e)=>`#${CSS.escape(e)}`)),n),yl=n=>n==null?`${n}`:Object.prototype.toString.call(n).match(/\s([a-z]+)/i)[1].toLowerCase(),El=n=>{do n+=Math.floor(Math.random()*vl);while(document.getElementById(n));return n},Al=n=>{if(!n)return 0;let{transitionDuration:t,transitionDelay:e}=window.getComputedStyle(n);const i=Number.parseFloat(t),a=Number.parseFloat(e);return!i&&!a?0:(t=t.split(",")[0],e=e.split(",")[0],(Number.parseFloat(t)+Number.parseFloat(e))*bl)},Lo=n=>{n.dispatchEvent(new Event(Xr))},ne=n=>!n||typeof n!="object"?!1:(typeof n.jquery<"u"&&(n=n[0]),typeof n.nodeType<"u"),he=n=>ne(n)?n.jquery?n[0]:n:typeof n=="string"&&n.length>0?document.querySelector(ko(n)):null,Xe=n=>{if(!ne(n)||n.getClientRects().length===0)return!1;const t=getComputedStyle(n).getPropertyValue("visibility")==="visible",e=n.closest("details:not([open])");if(!e)return t;if(e!==n){const i=n.closest("summary");if(i&&i.parentNode!==e||i===null)return!1}return t},fe=n=>!n||n.nodeType!==Node.ELEMENT_NODE||n.classList.contains("disabled")?!0:typeof n.disabled<"u"?n.disabled:n.hasAttribute("disabled")&&n.getAttribute("disabled")!=="false",Do=n=>{if(!document.documentElement.attachShadow)return null;if(typeof n.getRootNode=="function"){const t=n.getRootNode();return t instanceof ShadowRoot?t:null}return n instanceof ShadowRoot?n:n.parentNode?Do(n.parentNode):null},Jn=()=>{},En=n=>{n.offsetHeight},Io=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,xr=[],Tl=n=>{document.readyState==="loading"?(xr.length||document.addEventListener("DOMContentLoaded",()=>{for(const t of xr)t()}),xr.push(n)):n()},Rt=()=>document.documentElement.dir==="rtl",Ht=n=>{Tl(()=>{const t=Io();if(t){const e=n.NAME,i=t.fn[e];t.fn[e]=n.jQueryInterface,t.fn[e].Constructor=n,t.fn[e].noConflict=()=>(t.fn[e]=i,n.jQueryInterface)}})},Et=(n,t=[],e=n)=>typeof n=="function"?n.call(...t):e,Mo=(n,t,e=!0)=>{if(!e){Et(n);return}const a=Al(t)+5;let o=!1;const s=({target:l})=>{l===t&&(o=!0,t.removeEventListener(Xr,s),Et(n))};t.addEventListener(Xr,s),setTimeout(()=>{o||Lo(t)},a)},As=(n,t,e,i)=>{const a=n.length;let o=n.indexOf(t);return o===-1?!e&&i?n[a-1]:n[0]:(o+=e?1:-1,i&&(o=(o+a)%a),n[Math.max(0,Math.min(o,a-1))])},Nl=/[^.]*(?=\..*)\.|.*/,wl=/\..*/,Cl=/::\d+$/,Or={};let hi=1;const Ro={mouseenter:"mouseover",mouseleave:"mouseout"},Sl=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function Po(n,t){return t&&`${t}::${hi++}`||n.uidEvent||hi++}function Ho(n){const t=Po(n);return n.uidEvent=t,Or[t]=Or[t]||{},Or[t]}function xl(n,t){return function e(i){return Ts(i,{delegateTarget:n}),e.oneOff&&A.off(n,i.type,t),t.apply(n,[i])}}function Ol(n,t,e){return function i(a){const o=n.querySelectorAll(t);for(let{target:s}=a;s&&s!==this;s=s.parentNode)for(const l of o)if(l===s)return Ts(a,{delegateTarget:s}),i.oneOff&&A.off(n,a.type,t,e),e.apply(s,[a])}}function Fo(n,t,e=null){return Object.values(n).find(i=>i.callable===t&&i.delegationSelector===e)}function Vo(n,t,e){const i=typeof t=="string",a=i?e:t||e;let o=jo(n);return Sl.has(o)||(o=n),[i,a,o]}function fi(n,t,e,i,a){if(typeof t!="string"||!n)return;let[o,s,l]=Vo(t,e,i);t in Ro&&(s=(E=>function(w){if(!w.relatedTarget||w.relatedTarget!==w.delegateTarget&&!w.delegateTarget.contains(w.relatedTarget))return E.call(this,w)})(s));const c=Ho(n),r=c[l]||(c[l]={}),h=Fo(r,s,o?e:null);if(h){h.oneOff=h.oneOff&&a;return}const p=Po(s,t.replace(Nl,"")),m=o?Ol(n,e,s):xl(n,s);m.delegationSelector=o?e:null,m.callable=s,m.oneOff=a,m.uidEvent=p,r[p]=m,n.addEventListener(l,m,o)}function Jr(n,t,e,i,a){const o=Fo(t[e],i,a);o&&(n.removeEventListener(e,o,!!a),delete t[e][o.uidEvent])}function $l(n,t,e,i){const a=t[e]||{};for(const[o,s]of Object.entries(a))o.includes(i)&&Jr(n,t,e,s.callable,s.delegationSelector)}function jo(n){return n=n.replace(wl,""),Ro[n]||n}const A={on(n,t,e,i){fi(n,t,e,i,!1)},one(n,t,e,i){fi(n,t,e,i,!0)},off(n,t,e,i){if(typeof t!="string"||!n)return;const[a,o,s]=Vo(t,e,i),l=s!==t,c=Ho(n),r=c[s]||{},h=t.startsWith(".");if(typeof o<"u"){if(!Object.keys(r).length)return;Jr(n,c,s,o,a?e:null);return}if(h)for(const p of Object.keys(c))$l(n,c,p,t.slice(1));for(const[p,m]of Object.entries(r)){const _=p.replace(Cl,"");(!l||t.includes(_))&&Jr(n,c,s,m.callable,m.delegationSelector)}},trigger(n,t,e){if(typeof t!="string"||!n)return null;const i=Io(),a=jo(t),o=t!==a;let s=null,l=!0,c=!0,r=!1;o&&i&&(s=i.Event(t,e),i(n).trigger(s),l=!s.isPropagationStopped(),c=!s.isImmediatePropagationStopped(),r=s.isDefaultPrevented());const h=Ts(new Event(t,{bubbles:l,cancelable:!0}),e);return r&&h.preventDefault(),c&&n.dispatchEvent(h),h.defaultPrevented&&s&&s.preventDefault(),h}};function Ts(n,t={}){for(const[e,i]of Object.entries(t))try{n[e]=i}catch{Object.defineProperty(n,e,{configurable:!0,get(){return i}})}return n}function pi(n){if(n==="true")return!0;if(n==="false")return!1;if(n===Number(n).toString())return Number(n);if(n===""||n==="null")return null;if(typeof n!="string")return n;try{return JSON.parse(decodeURIComponent(n))}catch{return n}}function $r(n){return n.replace(/[A-Z]/g,t=>`-${t.toLowerCase()}`)}const re={setDataAttribute(n,t,e){n.setAttribute(`data-bs-${$r(t)}`,e)},removeDataAttribute(n,t){n.removeAttribute(`data-bs-${$r(t)}`)},getDataAttributes(n){if(!n)return{};const t={},e=Object.keys(n.dataset).filter(i=>i.startsWith("bs")&&!i.startsWith("bsConfig"));for(const i of e){let a=i.replace(/^bs/,"");a=a.charAt(0).toLowerCase()+a.slice(1),t[a]=pi(n.dataset[i])}return t},getDataAttribute(n,t){return pi(n.getAttribute(`data-bs-${$r(t)}`))}};class An{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(t){return t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t}_mergeConfigObj(t,e){const i=ne(e)?re.getDataAttribute(e,"config"):{};return{...this.constructor.Default,...typeof i=="object"?i:{},...ne(e)?re.getDataAttributes(e):{},...typeof t=="object"?t:{}}}_typeCheckConfig(t,e=this.constructor.DefaultType){for(const[i,a]of Object.entries(e)){const o=t[i],s=ne(o)?"element":yl(o);if(!new RegExp(a).test(s))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${i}" provided type "${s}" but expected type "${a}".`)}}}const kl="5.3.6";class jt extends An{constructor(t,e){super(),t=he(t),t&&(this._element=t,this._config=this._getConfig(e),Sr.set(this._element,this.constructor.DATA_KEY,this))}dispose(){Sr.remove(this._element,this.constructor.DATA_KEY),A.off(this._element,this.constructor.EVENT_KEY);for(const t of Object.getOwnPropertyNames(this))this[t]=null}_queueCallback(t,e,i=!0){Mo(t,e,i)}_getConfig(t){return t=this._mergeConfigObj(t,this._element),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}static getInstance(t){return Sr.get(he(t),this.DATA_KEY)}static getOrCreateInstance(t,e={}){return this.getInstance(t)||new this(t,typeof e=="object"?e:null)}static get VERSION(){return kl}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(t){return`${t}${this.EVENT_KEY}`}}const kr=n=>{let t=n.getAttribute("data-bs-target");if(!t||t==="#"){let e=n.getAttribute("href");if(!e||!e.includes("#")&&!e.startsWith("."))return null;e.includes("#")&&!e.startsWith("#")&&(e=`#${e.split("#")[1]}`),t=e&&e!=="#"?e.trim():null}return t?t.split(",").map(e=>ko(e)).join(","):null},M={find(n,t=document.documentElement){return[].concat(...Element.prototype.querySelectorAll.call(t,n))},findOne(n,t=document.documentElement){return Element.prototype.querySelector.call(t,n)},children(n,t){return[].concat(...n.children).filter(e=>e.matches(t))},parents(n,t){const e=[];let i=n.parentNode.closest(t);for(;i;)e.push(i),i=i.parentNode.closest(t);return e},prev(n,t){let e=n.previousElementSibling;for(;e;){if(e.matches(t))return[e];e=e.previousElementSibling}return[]},next(n,t){let e=n.nextElementSibling;for(;e;){if(e.matches(t))return[e];e=e.nextElementSibling}return[]},focusableChildren(n){const t=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(e=>`${e}:not([tabindex^="-"])`).join(",");return this.find(t,n).filter(e=>!fe(e)&&Xe(e))},getSelectorFromElement(n){const t=kr(n);return t&&M.findOne(t)?t:null},getElementFromSelector(n){const t=kr(n);return t?M.findOne(t):null},getMultipleElementsFromSelector(n){const t=kr(n);return t?M.find(t):[]}},lr=(n,t="hide")=>{const e=`click.dismiss${n.EVENT_KEY}`,i=n.NAME;A.on(document,e,`[data-bs-dismiss="${i}"]`,function(a){if(["A","AREA"].includes(this.tagName)&&a.preventDefault(),fe(this))return;const o=M.getElementFromSelector(this)||this.closest(`.${i}`);n.getOrCreateInstance(o)[t]()})},Ll="alert",Dl="bs.alert",Wo=`.${Dl}`,Il=`close${Wo}`,Ml=`closed${Wo}`,Rl="fade",Pl="show";class cr extends jt{static get NAME(){return Ll}close(){if(A.trigger(this._element,Il).defaultPrevented)return;this._element.classList.remove(Pl);const e=this._element.classList.contains(Rl);this._queueCallback(()=>this._destroyElement(),this._element,e)}_destroyElement(){this._element.remove(),A.trigger(this._element,Ml),this.dispose()}static jQueryInterface(t){return this.each(function(){const e=cr.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}lr(cr,"close");Ht(cr);const Hl="button",Fl="bs.button",Vl=`.${Fl}`,jl=".data-api",Wl="active",mi='[data-bs-toggle="button"]',Ul=`click${Vl}${jl}`;class ur extends jt{static get NAME(){return Hl}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle(Wl))}static jQueryInterface(t){return this.each(function(){const e=ur.getOrCreateInstance(this);t==="toggle"&&e[t]()})}}A.on(document,Ul,mi,n=>{n.preventDefault();const t=n.target.closest(mi);ur.getOrCreateInstance(t).toggle()});Ht(ur);const Bl="swipe",Je=".bs.swipe",Yl=`touchstart${Je}`,Kl=`touchmove${Je}`,ql=`touchend${Je}`,zl=`pointerdown${Je}`,Gl=`pointerup${Je}`,Ql="touch",Xl="pen",Jl="pointer-event",Zl=40,tc={endCallback:null,leftCallback:null,rightCallback:null},ec={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class Zn extends An{constructor(t,e){super(),this._element=t,!(!t||!Zn.isSupported())&&(this._config=this._getConfig(e),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return tc}static get DefaultType(){return ec}static get NAME(){return Bl}dispose(){A.off(this._element,Je)}_start(t){if(!this._supportPointerEvents){this._deltaX=t.touches[0].clientX;return}this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX)}_end(t){this._eventIsPointerPenTouch(t)&&(this._deltaX=t.clientX-this._deltaX),this._handleSwipe(),Et(this._config.endCallback)}_move(t){this._deltaX=t.touches&&t.touches.length>1?0:t.touches[0].clientX-this._deltaX}_handleSwipe(){const t=Math.abs(this._deltaX);if(t<=Zl)return;const e=t/this._deltaX;this._deltaX=0,e&&Et(e>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?(A.on(this._element,zl,t=>this._start(t)),A.on(this._element,Gl,t=>this._end(t)),this._element.classList.add(Jl)):(A.on(this._element,Yl,t=>this._start(t)),A.on(this._element,Kl,t=>this._move(t)),A.on(this._element,ql,t=>this._end(t)))}_eventIsPointerPenTouch(t){return this._supportPointerEvents&&(t.pointerType===Xl||t.pointerType===Ql)}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const nc="carousel",rc="bs.carousel",_e=`.${rc}`,Uo=".data-api",sc="ArrowLeft",ic="ArrowRight",oc=500,sn="next",Me="prev",He="left",Kn="right",ac=`slide${_e}`,Lr=`slid${_e}`,lc=`keydown${_e}`,cc=`mouseenter${_e}`,uc=`mouseleave${_e}`,dc=`dragstart${_e}`,hc=`load${_e}${Uo}`,fc=`click${_e}${Uo}`,Bo="carousel",Pn="active",pc="slide",mc="carousel-item-end",_c="carousel-item-start",gc="carousel-item-next",vc="carousel-item-prev",Yo=".active",Ko=".carousel-item",bc=Yo+Ko,yc=".carousel-item img",Ec=".carousel-indicators",Ac="[data-bs-slide], [data-bs-slide-to]",Tc='[data-bs-ride="carousel"]',Nc={[sc]:Kn,[ic]:He},wc={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Cc={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class Tn extends jt{constructor(t,e){super(t,e),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=M.findOne(Ec,this._element),this._addEventListeners(),this._config.ride===Bo&&this.cycle()}static get Default(){return wc}static get DefaultType(){return Cc}static get NAME(){return nc}next(){this._slide(sn)}nextWhenVisible(){!document.hidden&&Xe(this._element)&&this.next()}prev(){this._slide(Me)}pause(){this._isSliding&&Lo(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){if(this._config.ride){if(this._isSliding){A.one(this._element,Lr,()=>this.cycle());return}this.cycle()}}to(t){const e=this._getItems();if(t>e.length-1||t<0)return;if(this._isSliding){A.one(this._element,Lr,()=>this.to(t));return}const i=this._getItemIndex(this._getActive());if(i===t)return;const a=t>i?sn:Me;this._slide(a,e[t])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(t){return t.defaultInterval=t.interval,t}_addEventListeners(){this._config.keyboard&&A.on(this._element,lc,t=>this._keydown(t)),this._config.pause==="hover"&&(A.on(this._element,cc,()=>this.pause()),A.on(this._element,uc,()=>this._maybeEnableCycle())),this._config.touch&&Zn.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const i of M.find(yc,this._element))A.on(i,dc,a=>a.preventDefault());const e={leftCallback:()=>this._slide(this._directionToOrder(He)),rightCallback:()=>this._slide(this._directionToOrder(Kn)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),oc+this._config.interval))}};this._swipeHelper=new Zn(this._element,e)}_keydown(t){if(/input|textarea/i.test(t.target.tagName))return;const e=Nc[t.key];e&&(t.preventDefault(),this._slide(this._directionToOrder(e)))}_getItemIndex(t){return this._getItems().indexOf(t)}_setActiveIndicatorElement(t){if(!this._indicatorsElement)return;const e=M.findOne(Yo,this._indicatorsElement);e.classList.remove(Pn),e.removeAttribute("aria-current");const i=M.findOne(`[data-bs-slide-to="${t}"]`,this._indicatorsElement);i&&(i.classList.add(Pn),i.setAttribute("aria-current","true"))}_updateInterval(){const t=this._activeElement||this._getActive();if(!t)return;const e=Number.parseInt(t.getAttribute("data-bs-interval"),10);this._config.interval=e||this._config.defaultInterval}_slide(t,e=null){if(this._isSliding)return;const i=this._getActive(),a=t===sn,o=e||As(this._getItems(),i,a,this._config.wrap);if(o===i)return;const s=this._getItemIndex(o),l=_=>A.trigger(this._element,_,{relatedTarget:o,direction:this._orderToDirection(t),from:this._getItemIndex(i),to:s});if(l(ac).defaultPrevented||!i||!o)return;const r=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(s),this._activeElement=o;const h=a?_c:mc,p=a?gc:vc;o.classList.add(p),En(o),i.classList.add(h),o.classList.add(h);const m=()=>{o.classList.remove(h,p),o.classList.add(Pn),i.classList.remove(Pn,p,h),this._isSliding=!1,l(Lr)};this._queueCallback(m,i,this._isAnimated()),r&&this.cycle()}_isAnimated(){return this._element.classList.contains(pc)}_getActive(){return M.findOne(bc,this._element)}_getItems(){return M.find(Ko,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(t){return Rt()?t===He?Me:sn:t===He?sn:Me}_orderToDirection(t){return Rt()?t===Me?He:Kn:t===Me?Kn:He}static jQueryInterface(t){return this.each(function(){const e=Tn.getOrCreateInstance(this,t);if(typeof t=="number"){e.to(t);return}if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}A.on(document,fc,Ac,function(n){const t=M.getElementFromSelector(this);if(!t||!t.classList.contains(Bo))return;n.preventDefault();const e=Tn.getOrCreateInstance(t),i=this.getAttribute("data-bs-slide-to");if(i){e.to(i),e._maybeEnableCycle();return}if(re.getDataAttribute(this,"slide")==="next"){e.next(),e._maybeEnableCycle();return}e.prev(),e._maybeEnableCycle()});A.on(window,hc,()=>{const n=M.find(Tc);for(const t of n)Tn.getOrCreateInstance(t)});Ht(Tn);const Sc="collapse",xc="bs.collapse",Nn=`.${xc}`,Oc=".data-api",$c=`show${Nn}`,kc=`shown${Nn}`,Lc=`hide${Nn}`,Dc=`hidden${Nn}`,Ic=`click${Nn}${Oc}`,Dr="show",Ve="collapse",Hn="collapsing",Mc="collapsed",Rc=`:scope .${Ve} .${Ve}`,Pc="collapse-horizontal",Hc="width",Fc="height",Vc=".collapse.show, .collapse.collapsing",Zr='[data-bs-toggle="collapse"]',jc={parent:null,toggle:!0},Wc={parent:"(null|element)",toggle:"boolean"};class fn extends jt{constructor(t,e){super(t,e),this._isTransitioning=!1,this._triggerArray=[];const i=M.find(Zr);for(const a of i){const o=M.getSelectorFromElement(a),s=M.find(o).filter(l=>l===this._element);o!==null&&s.length&&this._triggerArray.push(a)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return jc}static get DefaultType(){return Wc}static get NAME(){return Sc}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let t=[];if(this._config.parent&&(t=this._getFirstLevelChildren(Vc).filter(l=>l!==this._element).map(l=>fn.getOrCreateInstance(l,{toggle:!1}))),t.length&&t[0]._isTransitioning||A.trigger(this._element,$c).defaultPrevented)return;for(const l of t)l.hide();const i=this._getDimension();this._element.classList.remove(Ve),this._element.classList.add(Hn),this._element.style[i]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const a=()=>{this._isTransitioning=!1,this._element.classList.remove(Hn),this._element.classList.add(Ve,Dr),this._element.style[i]="",A.trigger(this._element,kc)},s=`scroll${i[0].toUpperCase()+i.slice(1)}`;this._queueCallback(a,this._element,!0),this._element.style[i]=`${this._element[s]}px`}hide(){if(this._isTransitioning||!this._isShown()||A.trigger(this._element,Lc).defaultPrevented)return;const e=this._getDimension();this._element.style[e]=`${this._element.getBoundingClientRect()[e]}px`,En(this._element),this._element.classList.add(Hn),this._element.classList.remove(Ve,Dr);for(const a of this._triggerArray){const o=M.getElementFromSelector(a);o&&!this._isShown(o)&&this._addAriaAndCollapsedClass([a],!1)}this._isTransitioning=!0;const i=()=>{this._isTransitioning=!1,this._element.classList.remove(Hn),this._element.classList.add(Ve),A.trigger(this._element,Dc)};this._element.style[e]="",this._queueCallback(i,this._element,!0)}_isShown(t=this._element){return t.classList.contains(Dr)}_configAfterMerge(t){return t.toggle=!!t.toggle,t.parent=he(t.parent),t}_getDimension(){return this._element.classList.contains(Pc)?Hc:Fc}_initializeChildren(){if(!this._config.parent)return;const t=this._getFirstLevelChildren(Zr);for(const e of t){const i=M.getElementFromSelector(e);i&&this._addAriaAndCollapsedClass([e],this._isShown(i))}}_getFirstLevelChildren(t){const e=M.find(Rc,this._config.parent);return M.find(t,this._config.parent).filter(i=>!e.includes(i))}_addAriaAndCollapsedClass(t,e){if(t.length)for(const i of t)i.classList.toggle(Mc,!e),i.setAttribute("aria-expanded",e)}static jQueryInterface(t){const e={};return typeof t=="string"&&/show|hide/.test(t)&&(e.toggle=!1),this.each(function(){const i=fn.getOrCreateInstance(this,e);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t]()}})}}A.on(document,Ic,Zr,function(n){(n.target.tagName==="A"||n.delegateTarget&&n.delegateTarget.tagName==="A")&&n.preventDefault();for(const t of M.getMultipleElementsFromSelector(this))fn.getOrCreateInstance(t,{toggle:!1}).toggle()});Ht(fn);const _i="dropdown",Uc="bs.dropdown",ke=`.${Uc}`,Ns=".data-api",Bc="Escape",gi="Tab",Yc="ArrowUp",vi="ArrowDown",Kc=2,qc=`hide${ke}`,zc=`hidden${ke}`,Gc=`show${ke}`,Qc=`shown${ke}`,qo=`click${ke}${Ns}`,zo=`keydown${ke}${Ns}`,Xc=`keyup${ke}${Ns}`,Fe="show",Jc="dropup",Zc="dropend",tu="dropstart",eu="dropup-center",nu="dropdown-center",Ne='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',ru=`${Ne}.${Fe}`,qn=".dropdown-menu",su=".navbar",iu=".navbar-nav",ou=".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",au=Rt()?"top-end":"top-start",lu=Rt()?"top-start":"top-end",cu=Rt()?"bottom-end":"bottom-start",uu=Rt()?"bottom-start":"bottom-end",du=Rt()?"left-start":"right-start",hu=Rt()?"right-start":"left-start",fu="top",pu="bottom",mu={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},_u={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class zt extends jt{constructor(t,e){super(t,e),this._popper=null,this._parent=this._element.parentNode,this._menu=M.next(this._element,qn)[0]||M.prev(this._element,qn)[0]||M.findOne(qn,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return mu}static get DefaultType(){return _u}static get NAME(){return _i}toggle(){return this._isShown()?this.hide():this.show()}show(){if(fe(this._element)||this._isShown())return;const t={relatedTarget:this._element};if(!A.trigger(this._element,Gc,t).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(iu))for(const i of[].concat(...document.body.children))A.on(i,"mouseover",Jn);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Fe),this._element.classList.add(Fe),A.trigger(this._element,Qc,t)}}hide(){if(fe(this._element)||!this._isShown())return;const t={relatedTarget:this._element};this._completeHide(t)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(t){if(!A.trigger(this._element,qc,t).defaultPrevented){if("ontouchstart"in document.documentElement)for(const i of[].concat(...document.body.children))A.off(i,"mouseover",Jn);this._popper&&this._popper.destroy(),this._menu.classList.remove(Fe),this._element.classList.remove(Fe),this._element.setAttribute("aria-expanded","false"),re.removeDataAttribute(this._menu,"popper"),A.trigger(this._element,zc,t),this._element.focus()}}_getConfig(t){if(t=super._getConfig(t),typeof t.reference=="object"&&!ne(t.reference)&&typeof t.reference.getBoundingClientRect!="function")throw new TypeError(`${_i.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return t}_createPopper(){if(typeof $o>"u")throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org/docs/v2/)");let t=this._element;this._config.reference==="parent"?t=this._parent:ne(this._config.reference)?t=he(this._config.reference):typeof this._config.reference=="object"&&(t=this._config.reference);const e=this._getPopperConfig();this._popper=Es(t,this._menu,e)}_isShown(){return this._menu.classList.contains(Fe)}_getPlacement(){const t=this._parent;if(t.classList.contains(Zc))return du;if(t.classList.contains(tu))return hu;if(t.classList.contains(eu))return fu;if(t.classList.contains(nu))return pu;const e=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return t.classList.contains(Jc)?e?lu:au:e?uu:cu}_detectNavbar(){return this._element.closest(su)!==null}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_getPopperConfig(){const t={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(re.setDataAttribute(this._menu,"popper","static"),t.modifiers=[{name:"applyStyles",enabled:!1}]),{...t,...Et(this._config.popperConfig,[void 0,t])}}_selectMenuItem({key:t,target:e}){const i=M.find(ou,this._menu).filter(a=>Xe(a));i.length&&As(i,e,t===vi,!i.includes(e)).focus()}static jQueryInterface(t){return this.each(function(){const e=zt.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}static clearMenus(t){if(t.button===Kc||t.type==="keyup"&&t.key!==gi)return;const e=M.find(ru);for(const i of e){const a=zt.getInstance(i);if(!a||a._config.autoClose===!1)continue;const o=t.composedPath(),s=o.includes(a._menu);if(o.includes(a._element)||a._config.autoClose==="inside"&&!s||a._config.autoClose==="outside"&&s||a._menu.contains(t.target)&&(t.type==="keyup"&&t.key===gi||/input|select|option|textarea|form/i.test(t.target.tagName)))continue;const l={relatedTarget:a._element};t.type==="click"&&(l.clickEvent=t),a._completeHide(l)}}static dataApiKeydownHandler(t){const e=/input|textarea/i.test(t.target.tagName),i=t.key===Bc,a=[Yc,vi].includes(t.key);if(!a&&!i||e&&!i)return;t.preventDefault();const o=this.matches(Ne)?this:M.prev(this,Ne)[0]||M.next(this,Ne)[0]||M.findOne(Ne,t.delegateTarget.parentNode),s=zt.getOrCreateInstance(o);if(a){t.stopPropagation(),s.show(),s._selectMenuItem(t);return}s._isShown()&&(t.stopPropagation(),s.hide(),o.focus())}}A.on(document,zo,Ne,zt.dataApiKeydownHandler);A.on(document,zo,qn,zt.dataApiKeydownHandler);A.on(document,qo,zt.clearMenus);A.on(document,Xc,zt.clearMenus);A.on(document,qo,Ne,function(n){n.preventDefault(),zt.getOrCreateInstance(this).toggle()});Ht(zt);const Go="backdrop",gu="fade",bi="show",yi=`mousedown.bs.${Go}`,vu={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},bu={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Qo extends An{constructor(t){super(),this._config=this._getConfig(t),this._isAppended=!1,this._element=null}static get Default(){return vu}static get DefaultType(){return bu}static get NAME(){return Go}show(t){if(!this._config.isVisible){Et(t);return}this._append();const e=this._getElement();this._config.isAnimated&&En(e),e.classList.add(bi),this._emulateAnimation(()=>{Et(t)})}hide(t){if(!this._config.isVisible){Et(t);return}this._getElement().classList.remove(bi),this._emulateAnimation(()=>{this.dispose(),Et(t)})}dispose(){this._isAppended&&(A.off(this._element,yi),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const t=document.createElement("div");t.className=this._config.className,this._config.isAnimated&&t.classList.add(gu),this._element=t}return this._element}_configAfterMerge(t){return t.rootElement=he(t.rootElement),t}_append(){if(this._isAppended)return;const t=this._getElement();this._config.rootElement.append(t),A.on(t,yi,()=>{Et(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(t){Mo(t,this._getElement(),this._config.isAnimated)}}const yu="focustrap",Eu="bs.focustrap",tr=`.${Eu}`,Au=`focusin${tr}`,Tu=`keydown.tab${tr}`,Nu="Tab",wu="forward",Ei="backward",Cu={autofocus:!0,trapElement:null},Su={autofocus:"boolean",trapElement:"element"};class Xo extends An{constructor(t){super(),this._config=this._getConfig(t),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Cu}static get DefaultType(){return Su}static get NAME(){return yu}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),A.off(document,tr),A.on(document,Au,t=>this._handleFocusin(t)),A.on(document,Tu,t=>this._handleKeydown(t)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,A.off(document,tr))}_handleFocusin(t){const{trapElement:e}=this._config;if(t.target===document||t.target===e||e.contains(t.target))return;const i=M.focusableChildren(e);i.length===0?e.focus():this._lastTabNavDirection===Ei?i[i.length-1].focus():i[0].focus()}_handleKeydown(t){t.key===Nu&&(this._lastTabNavDirection=t.shiftKey?Ei:wu)}}const Ai=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Ti=".sticky-top",Fn="padding-right",Ni="margin-right";class ts{constructor(){this._element=document.body}getWidth(){const t=document.documentElement.clientWidth;return Math.abs(window.innerWidth-t)}hide(){const t=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,Fn,e=>e+t),this._setElementAttributes(Ai,Fn,e=>e+t),this._setElementAttributes(Ti,Ni,e=>e-t)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,Fn),this._resetElementAttributes(Ai,Fn),this._resetElementAttributes(Ti,Ni)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(t,e,i){const a=this.getWidth(),o=s=>{if(s!==this._element&&window.innerWidth>s.clientWidth+a)return;this._saveInitialAttribute(s,e);const l=window.getComputedStyle(s).getPropertyValue(e);s.style.setProperty(e,`${i(Number.parseFloat(l))}px`)};this._applyManipulationCallback(t,o)}_saveInitialAttribute(t,e){const i=t.style.getPropertyValue(e);i&&re.setDataAttribute(t,e,i)}_resetElementAttributes(t,e){const i=a=>{const o=re.getDataAttribute(a,e);if(o===null){a.style.removeProperty(e);return}re.removeDataAttribute(a,e),a.style.setProperty(e,o)};this._applyManipulationCallback(t,i)}_applyManipulationCallback(t,e){if(ne(t)){e(t);return}for(const i of M.find(t,this._element))e(i)}}const xu="modal",Ou="bs.modal",Pt=`.${Ou}`,$u=".data-api",ku="Escape",Lu=`hide${Pt}`,Du=`hidePrevented${Pt}`,Jo=`hidden${Pt}`,Zo=`show${Pt}`,Iu=`shown${Pt}`,Mu=`resize${Pt}`,Ru=`click.dismiss${Pt}`,Pu=`mousedown.dismiss${Pt}`,Hu=`keydown.dismiss${Pt}`,Fu=`click${Pt}${$u}`,wi="modal-open",Vu="fade",Ci="show",Ir="modal-static",ju=".modal.show",Wu=".modal-dialog",Uu=".modal-body",Bu='[data-bs-toggle="modal"]',Yu={backdrop:!0,focus:!0,keyboard:!0},Ku={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ze extends jt{constructor(t,e){super(t,e),this._dialog=M.findOne(Wu,this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new ts,this._addEventListeners()}static get Default(){return Yu}static get DefaultType(){return Ku}static get NAME(){return xu}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){this._isShown||this._isTransitioning||A.trigger(this._element,Zo,{relatedTarget:t}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(wi),this._adjustDialog(),this._backdrop.show(()=>this._showElement(t)))}hide(){!this._isShown||this._isTransitioning||A.trigger(this._element,Lu).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Ci),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated()))}dispose(){A.off(window,Pt),A.off(this._dialog,Pt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Qo({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Xo({trapElement:this._element})}_showElement(t){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const e=M.findOne(Uu,this._dialog);e&&(e.scrollTop=0),En(this._element),this._element.classList.add(Ci);const i=()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,A.trigger(this._element,Iu,{relatedTarget:t})};this._queueCallback(i,this._dialog,this._isAnimated())}_addEventListeners(){A.on(this._element,Hu,t=>{if(t.key===ku){if(this._config.keyboard){this.hide();return}this._triggerBackdropTransition()}}),A.on(window,Mu,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),A.on(this._element,Pu,t=>{A.one(this._element,Ru,e=>{if(!(this._element!==t.target||this._element!==e.target)){if(this._config.backdrop==="static"){this._triggerBackdropTransition();return}this._config.backdrop&&this.hide()}})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(wi),this._resetAdjustments(),this._scrollBar.reset(),A.trigger(this._element,Jo)})}_isAnimated(){return this._element.classList.contains(Vu)}_triggerBackdropTransition(){if(A.trigger(this._element,Du).defaultPrevented)return;const e=this._element.scrollHeight>document.documentElement.clientHeight,i=this._element.style.overflowY;i==="hidden"||this._element.classList.contains(Ir)||(e||(this._element.style.overflowY="hidden"),this._element.classList.add(Ir),this._queueCallback(()=>{this._element.classList.remove(Ir),this._queueCallback(()=>{this._element.style.overflowY=i},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const t=this._element.scrollHeight>document.documentElement.clientHeight,e=this._scrollBar.getWidth(),i=e>0;if(i&&!t){const a=Rt()?"paddingLeft":"paddingRight";this._element.style[a]=`${e}px`}if(!i&&t){const a=Rt()?"paddingRight":"paddingLeft";this._element.style[a]=`${e}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(t,e){return this.each(function(){const i=ze.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof i[t]>"u")throw new TypeError(`No method named "${t}"`);i[t](e)}})}}A.on(document,Fu,Bu,function(n){const t=M.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&n.preventDefault(),A.one(t,Zo,a=>{a.defaultPrevented||A.one(t,Jo,()=>{Xe(this)&&this.focus()})});const e=M.findOne(ju);e&&ze.getInstance(e).hide(),ze.getOrCreateInstance(t).toggle(this)});lr(ze);Ht(ze);const qu="offcanvas",zu="bs.offcanvas",ie=`.${zu}`,ta=".data-api",Gu=`load${ie}${ta}`,Qu="Escape",Si="show",xi="showing",Oi="hiding",Xu="offcanvas-backdrop",ea=".offcanvas.show",Ju=`show${ie}`,Zu=`shown${ie}`,td=`hide${ie}`,$i=`hidePrevented${ie}`,na=`hidden${ie}`,ed=`resize${ie}`,nd=`click${ie}${ta}`,rd=`keydown.dismiss${ie}`,sd='[data-bs-toggle="offcanvas"]',id={backdrop:!0,keyboard:!0,scroll:!1},od={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class pe extends jt{constructor(t,e){super(t,e),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return id}static get DefaultType(){return od}static get NAME(){return qu}toggle(t){return this._isShown?this.hide():this.show(t)}show(t){if(this._isShown||A.trigger(this._element,Ju,{relatedTarget:t}).defaultPrevented)return;this._isShown=!0,this._backdrop.show(),this._config.scroll||new ts().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(xi);const i=()=>{(!this._config.scroll||this._config.backdrop)&&this._focustrap.activate(),this._element.classList.add(Si),this._element.classList.remove(xi),A.trigger(this._element,Zu,{relatedTarget:t})};this._queueCallback(i,this._element,!0)}hide(){if(!this._isShown||A.trigger(this._element,td).defaultPrevented)return;this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Oi),this._backdrop.hide();const e=()=>{this._element.classList.remove(Si,Oi),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new ts().reset(),A.trigger(this._element,na)};this._queueCallback(e,this._element,!0)}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const t=()=>{if(this._config.backdrop==="static"){A.trigger(this._element,$i);return}this.hide()},e=!!this._config.backdrop;return new Qo({className:Xu,isVisible:e,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:e?t:null})}_initializeFocusTrap(){return new Xo({trapElement:this._element})}_addEventListeners(){A.on(this._element,rd,t=>{if(t.key===Qu){if(this._config.keyboard){this.hide();return}A.trigger(this._element,$i)}})}static jQueryInterface(t){return this.each(function(){const e=pe.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}A.on(document,nd,sd,function(n){const t=M.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&n.preventDefault(),fe(this))return;A.one(t,na,()=>{Xe(this)&&this.focus()});const e=M.findOne(ea);e&&e!==t&&pe.getInstance(e).hide(),pe.getOrCreateInstance(t).toggle(this)});A.on(window,Gu,()=>{for(const n of M.find(ea))pe.getOrCreateInstance(n).show()});A.on(window,ed,()=>{for(const n of M.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(n).position!=="fixed"&&pe.getOrCreateInstance(n).hide()});lr(pe);Ht(pe);const ad=/^aria-[\w-]*$/i,ra={"*":["class","dir","id","lang","role",ad],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},ld=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),cd=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,ud=(n,t)=>{const e=n.nodeName.toLowerCase();return t.includes(e)?ld.has(e)?!!cd.test(n.nodeValue):!0:t.filter(i=>i instanceof RegExp).some(i=>i.test(e))};function dd(n,t,e){if(!n.length)return n;if(e&&typeof e=="function")return e(n);const a=new window.DOMParser().parseFromString(n,"text/html"),o=[].concat(...a.body.querySelectorAll("*"));for(const s of o){const l=s.nodeName.toLowerCase();if(!Object.keys(t).includes(l)){s.remove();continue}const c=[].concat(...s.attributes),r=[].concat(t["*"]||[],t[l]||[]);for(const h of c)ud(h,r)||s.removeAttribute(h.nodeName)}return a.body.innerHTML}const hd="TemplateFactory",fd={allowList:ra,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},pd={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},md={entry:"(string|element|function|null)",selector:"(string|element)"};class _d extends An{constructor(t){super(),this._config=this._getConfig(t)}static get Default(){return fd}static get DefaultType(){return pd}static get NAME(){return hd}getContent(){return Object.values(this._config.content).map(t=>this._resolvePossibleFunction(t)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(t){return this._checkContent(t),this._config.content={...this._config.content,...t},this}toHtml(){const t=document.createElement("div");t.innerHTML=this._maybeSanitize(this._config.template);for(const[a,o]of Object.entries(this._config.content))this._setContent(t,o,a);const e=t.children[0],i=this._resolvePossibleFunction(this._config.extraClass);return i&&e.classList.add(...i.split(" ")),e}_typeCheckConfig(t){super._typeCheckConfig(t),this._checkContent(t.content)}_checkContent(t){for(const[e,i]of Object.entries(t))super._typeCheckConfig({selector:e,entry:i},md)}_setContent(t,e,i){const a=M.findOne(i,t);if(a){if(e=this._resolvePossibleFunction(e),!e){a.remove();return}if(ne(e)){this._putElementInTemplate(he(e),a);return}if(this._config.html){a.innerHTML=this._maybeSanitize(e);return}a.textContent=e}}_maybeSanitize(t){return this._config.sanitize?dd(t,this._config.allowList,this._config.sanitizeFn):t}_resolvePossibleFunction(t){return Et(t,[void 0,this])}_putElementInTemplate(t,e){if(this._config.html){e.innerHTML="",e.append(t);return}e.textContent=t.textContent}}const gd="tooltip",vd=new Set(["sanitize","allowList","sanitizeFn"]),Mr="fade",bd="modal",Vn="show",yd=".tooltip-inner",ki=`.${bd}`,Li="hide.bs.modal",on="hover",Rr="focus",Ed="click",Ad="manual",Td="hide",Nd="hidden",wd="show",Cd="shown",Sd="inserted",xd="click",Od="focusin",$d="focusout",kd="mouseenter",Ld="mouseleave",Dd={AUTO:"auto",TOP:"top",RIGHT:Rt()?"left":"right",BOTTOM:"bottom",LEFT:Rt()?"right":"left"},Id={allowList:ra,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Md={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class Le extends jt{constructor(t,e){if(typeof $o>"u")throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org/docs/v2/)");super(t,e),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Id}static get DefaultType(){return Md}static get NAME(){return gd}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){if(this._isEnabled){if(this._isShown()){this._leave();return}this._enter()}}dispose(){clearTimeout(this._timeout),A.off(this._element.closest(ki),Li,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!(this._isWithContent()&&this._isEnabled))return;const t=A.trigger(this._element,this.constructor.eventName(wd)),i=(Do(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(t.defaultPrevented||!i)return;this._disposePopper();const a=this._getTipElement();this._element.setAttribute("aria-describedby",a.getAttribute("id"));const{container:o}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(o.append(a),A.trigger(this._element,this.constructor.eventName(Sd))),this._popper=this._createPopper(a),a.classList.add(Vn),"ontouchstart"in document.documentElement)for(const l of[].concat(...document.body.children))A.on(l,"mouseover",Jn);const s=()=>{A.trigger(this._element,this.constructor.eventName(Cd)),this._isHovered===!1&&this._leave(),this._isHovered=!1};this._queueCallback(s,this.tip,this._isAnimated())}hide(){if(!this._isShown()||A.trigger(this._element,this.constructor.eventName(Td)).defaultPrevented)return;if(this._getTipElement().classList.remove(Vn),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))A.off(a,"mouseover",Jn);this._activeTrigger[Ed]=!1,this._activeTrigger[Rr]=!1,this._activeTrigger[on]=!1,this._isHovered=null;const i=()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),A.trigger(this._element,this.constructor.eventName(Nd)))};this._queueCallback(i,this.tip,this._isAnimated())}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(t){const e=this._getTemplateFactory(t).toHtml();if(!e)return null;e.classList.remove(Mr,Vn),e.classList.add(`bs-${this.constructor.NAME}-auto`);const i=El(this.constructor.NAME).toString();return e.setAttribute("id",i),this._isAnimated()&&e.classList.add(Mr),e}setContent(t){this._newContent=t,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(t){return this._templateFactory?this._templateFactory.changeContent(t):this._templateFactory=new _d({...this._config,content:t,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{[yd]:this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(t){return this.constructor.getOrCreateInstance(t.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Mr)}_isShown(){return this.tip&&this.tip.classList.contains(Vn)}_createPopper(t){const e=Et(this._config.placement,[this,t,this._element]),i=Dd[e.toUpperCase()];return Es(this._element,t,this._getPopperConfig(i))}_getOffset(){const{offset:t}=this._config;return typeof t=="string"?t.split(",").map(e=>Number.parseInt(e,10)):typeof t=="function"?e=>t(e,this._element):t}_resolvePossibleFunction(t){return Et(t,[this._element,this._element])}_getPopperConfig(t){const e={placement:t,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:i=>{this._getTipElement().setAttribute("data-popper-placement",i.state.placement)}}]};return{...e,...Et(this._config.popperConfig,[void 0,e])}}_setListeners(){const t=this._config.trigger.split(" ");for(const e of t)if(e==="click")A.on(this._element,this.constructor.eventName(xd),this._config.selector,i=>{this._initializeOnDelegatedTarget(i).toggle()});else if(e!==Ad){const i=e===on?this.constructor.eventName(kd):this.constructor.eventName(Od),a=e===on?this.constructor.eventName(Ld):this.constructor.eventName($d);A.on(this._element,i,this._config.selector,o=>{const s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusin"?Rr:on]=!0,s._enter()}),A.on(this._element,a,this._config.selector,o=>{const s=this._initializeOnDelegatedTarget(o);s._activeTrigger[o.type==="focusout"?Rr:on]=s._element.contains(o.relatedTarget),s._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},A.on(this._element.closest(ki),Li,this._hideModalHandler)}_fixTitle(){const t=this._element.getAttribute("title");t&&(!this._element.getAttribute("aria-label")&&!this._element.textContent.trim()&&this._element.setAttribute("aria-label",t),this._element.setAttribute("data-bs-original-title",t),this._element.removeAttribute("title"))}_enter(){if(this._isShown()||this._isHovered){this._isHovered=!0;return}this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show)}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(t,e){clearTimeout(this._timeout),this._timeout=setTimeout(t,e)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(t){const e=re.getDataAttributes(this._element);for(const i of Object.keys(e))vd.has(i)&&delete e[i];return t={...e,...typeof t=="object"&&t?t:{}},t=this._mergeConfigObj(t),t=this._configAfterMerge(t),this._typeCheckConfig(t),t}_configAfterMerge(t){return t.container=t.container===!1?document.body:he(t.container),typeof t.delay=="number"&&(t.delay={show:t.delay,hide:t.delay}),typeof t.title=="number"&&(t.title=t.title.toString()),typeof t.content=="number"&&(t.content=t.content.toString()),t}_getDelegateConfig(){const t={};for(const[e,i]of Object.entries(this._config))this.constructor.Default[e]!==i&&(t[e]=i);return t.selector=!1,t.trigger="manual",t}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(t){return this.each(function(){const e=Le.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}}Ht(Le);const Rd="popover",Pd=".popover-header",Hd=".popover-body",Fd={...Le.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Vd={...Le.DefaultType,content:"(null|string|element|function)"};class ws extends Le{static get Default(){return Fd}static get DefaultType(){return Vd}static get NAME(){return Rd}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{[Pd]:this._getTitle(),[Hd]:this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(t){return this.each(function(){const e=ws.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t]()}})}}Ht(ws);const jd="scrollspy",Wd="bs.scrollspy",Cs=`.${Wd}`,Ud=".data-api",Bd=`activate${Cs}`,Di=`click${Cs}`,Yd=`load${Cs}${Ud}`,Kd="dropdown-item",Re="active",qd='[data-bs-spy="scroll"]',Pr="[href]",zd=".nav, .list-group",Ii=".nav-link",Gd=".nav-item",Qd=".list-group-item",Xd=`${Ii}, ${Gd} > ${Ii}, ${Qd}`,Jd=".dropdown",Zd=".dropdown-toggle",th={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},eh={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class dr extends jt{constructor(t,e){super(t,e),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return th}static get DefaultType(){return eh}static get NAME(){return jd}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const t of this._observableSections.values())this._observer.observe(t)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(t){return t.target=he(t.target)||document.body,t.rootMargin=t.offset?`${t.offset}px 0px -30%`:t.rootMargin,typeof t.threshold=="string"&&(t.threshold=t.threshold.split(",").map(e=>Number.parseFloat(e))),t}_maybeEnableSmoothScroll(){this._config.smoothScroll&&(A.off(this._config.target,Di),A.on(this._config.target,Di,Pr,t=>{const e=this._observableSections.get(t.target.hash);if(e){t.preventDefault();const i=this._rootElement||window,a=e.offsetTop-this._element.offsetTop;if(i.scrollTo){i.scrollTo({top:a,behavior:"smooth"});return}i.scrollTop=a}}))}_getNewObserver(){const t={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(e=>this._observerCallback(e),t)}_observerCallback(t){const e=s=>this._targetLinks.get(`#${s.target.id}`),i=s=>{this._previousScrollData.visibleEntryTop=s.target.offsetTop,this._process(e(s))},a=(this._rootElement||document.documentElement).scrollTop,o=a>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=a;for(const s of t){if(!s.isIntersecting){this._activeTarget=null,this._clearActiveClass(e(s));continue}const l=s.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(o&&l){if(i(s),!a)return;continue}!o&&!l&&i(s)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const t=M.find(Pr,this._config.target);for(const e of t){if(!e.hash||fe(e))continue;const i=M.findOne(decodeURI(e.hash),this._element);Xe(i)&&(this._targetLinks.set(decodeURI(e.hash),e),this._observableSections.set(e.hash,i))}}_process(t){this._activeTarget!==t&&(this._clearActiveClass(this._config.target),this._activeTarget=t,t.classList.add(Re),this._activateParents(t),A.trigger(this._element,Bd,{relatedTarget:t}))}_activateParents(t){if(t.classList.contains(Kd)){M.findOne(Zd,t.closest(Jd)).classList.add(Re);return}for(const e of M.parents(t,zd))for(const i of M.prev(e,Xd))i.classList.add(Re)}_clearActiveClass(t){t.classList.remove(Re);const e=M.find(`${Pr}.${Re}`,t);for(const i of e)i.classList.remove(Re)}static jQueryInterface(t){return this.each(function(){const e=dr.getOrCreateInstance(this,t);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}A.on(window,Yd,()=>{for(const n of M.find(qd))dr.getOrCreateInstance(n)});Ht(dr);const nh="tab",rh="bs.tab",De=`.${rh}`,sh=`hide${De}`,ih=`hidden${De}`,oh=`show${De}`,ah=`shown${De}`,lh=`click${De}`,ch=`keydown${De}`,uh=`load${De}`,dh="ArrowLeft",Mi="ArrowRight",hh="ArrowUp",Ri="ArrowDown",Hr="Home",Pi="End",we="active",Hi="fade",Fr="show",fh="dropdown",sa=".dropdown-toggle",ph=".dropdown-menu",Vr=`:not(${sa})`,mh='.list-group, .nav, [role="tablist"]',_h=".nav-item, .list-group-item",gh=`.nav-link${Vr}, .list-group-item${Vr}, [role="tab"]${Vr}`,ia='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',jr=`${gh}, ${ia}`,vh=`.${we}[data-bs-toggle="tab"], .${we}[data-bs-toggle="pill"], .${we}[data-bs-toggle="list"]`;class Ge extends jt{constructor(t){super(t),this._parent=this._element.closest(mh),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),A.on(this._element,ch,e=>this._keydown(e)))}static get NAME(){return nh}show(){const t=this._element;if(this._elemIsActive(t))return;const e=this._getActiveElem(),i=e?A.trigger(e,sh,{relatedTarget:t}):null;A.trigger(t,oh,{relatedTarget:e}).defaultPrevented||i&&i.defaultPrevented||(this._deactivate(e,t),this._activate(t,e))}_activate(t,e){if(!t)return;t.classList.add(we),this._activate(M.getElementFromSelector(t));const i=()=>{if(t.getAttribute("role")!=="tab"){t.classList.add(Fr);return}t.removeAttribute("tabindex"),t.setAttribute("aria-selected",!0),this._toggleDropDown(t,!0),A.trigger(t,ah,{relatedTarget:e})};this._queueCallback(i,t,t.classList.contains(Hi))}_deactivate(t,e){if(!t)return;t.classList.remove(we),t.blur(),this._deactivate(M.getElementFromSelector(t));const i=()=>{if(t.getAttribute("role")!=="tab"){t.classList.remove(Fr);return}t.setAttribute("aria-selected",!1),t.setAttribute("tabindex","-1"),this._toggleDropDown(t,!1),A.trigger(t,ih,{relatedTarget:e})};this._queueCallback(i,t,t.classList.contains(Hi))}_keydown(t){if(![dh,Mi,hh,Ri,Hr,Pi].includes(t.key))return;t.stopPropagation(),t.preventDefault();const e=this._getChildren().filter(a=>!fe(a));let i;if([Hr,Pi].includes(t.key))i=e[t.key===Hr?0:e.length-1];else{const a=[Mi,Ri].includes(t.key);i=As(e,t.target,a,!0)}i&&(i.focus({preventScroll:!0}),Ge.getOrCreateInstance(i).show())}_getChildren(){return M.find(jr,this._parent)}_getActiveElem(){return this._getChildren().find(t=>this._elemIsActive(t))||null}_setInitialAttributes(t,e){this._setAttributeIfNotExists(t,"role","tablist");for(const i of e)this._setInitialAttributesOnChild(i)}_setInitialAttributesOnChild(t){t=this._getInnerElement(t);const e=this._elemIsActive(t),i=this._getOuterElement(t);t.setAttribute("aria-selected",e),i!==t&&this._setAttributeIfNotExists(i,"role","presentation"),e||t.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(t,"role","tab"),this._setInitialAttributesOnTargetPanel(t)}_setInitialAttributesOnTargetPanel(t){const e=M.getElementFromSelector(t);e&&(this._setAttributeIfNotExists(e,"role","tabpanel"),t.id&&this._setAttributeIfNotExists(e,"aria-labelledby",`${t.id}`))}_toggleDropDown(t,e){const i=this._getOuterElement(t);if(!i.classList.contains(fh))return;const a=(o,s)=>{const l=M.findOne(o,i);l&&l.classList.toggle(s,e)};a(sa,we),a(ph,Fr),i.setAttribute("aria-expanded",e)}_setAttributeIfNotExists(t,e,i){t.hasAttribute(e)||t.setAttribute(e,i)}_elemIsActive(t){return t.classList.contains(we)}_getInnerElement(t){return t.matches(jr)?t:M.findOne(jr,t)}_getOuterElement(t){return t.closest(_h)||t}static jQueryInterface(t){return this.each(function(){const e=Ge.getOrCreateInstance(this);if(typeof t=="string"){if(e[t]===void 0||t.startsWith("_")||t==="constructor")throw new TypeError(`No method named "${t}"`);e[t]()}})}}A.on(document,lh,ia,function(n){["A","AREA"].includes(this.tagName)&&n.preventDefault(),!fe(this)&&Ge.getOrCreateInstance(this).show()});A.on(window,uh,()=>{for(const n of M.find(vh))Ge.getOrCreateInstance(n)});Ht(Ge);const bh="toast",yh="bs.toast",ge=`.${yh}`,Eh=`mouseover${ge}`,Ah=`mouseout${ge}`,Th=`focusin${ge}`,Nh=`focusout${ge}`,wh=`hide${ge}`,Ch=`hidden${ge}`,Sh=`show${ge}`,xh=`shown${ge}`,Oh="fade",Fi="hide",jn="show",Wn="showing",$h={animation:"boolean",autohide:"boolean",delay:"number"},kh={animation:!0,autohide:!0,delay:5e3};class wn extends jt{constructor(t,e){super(t,e),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return kh}static get DefaultType(){return $h}static get NAME(){return bh}show(){if(A.trigger(this._element,Sh).defaultPrevented)return;this._clearTimeout(),this._config.animation&&this._element.classList.add(Oh);const e=()=>{this._element.classList.remove(Wn),A.trigger(this._element,xh),this._maybeScheduleHide()};this._element.classList.remove(Fi),En(this._element),this._element.classList.add(jn,Wn),this._queueCallback(e,this._element,this._config.animation)}hide(){if(!this.isShown()||A.trigger(this._element,wh).defaultPrevented)return;const e=()=>{this._element.classList.add(Fi),this._element.classList.remove(Wn,jn),A.trigger(this._element,Ch)};this._element.classList.add(Wn),this._queueCallback(e,this._element,this._config.animation)}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(jn),super.dispose()}isShown(){return this._element.classList.contains(jn)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(t,e){switch(t.type){case"mouseover":case"mouseout":{this._hasMouseInteraction=e;break}case"focusin":case"focusout":{this._hasKeyboardInteraction=e;break}}if(e){this._clearTimeout();return}const i=t.relatedTarget;this._element===i||this._element.contains(i)||this._maybeScheduleHide()}_setListeners(){A.on(this._element,Eh,t=>this._onInteraction(t,!0)),A.on(this._element,Ah,t=>this._onInteraction(t,!1)),A.on(this._element,Th,t=>this._onInteraction(t,!0)),A.on(this._element,Nh,t=>this._onInteraction(t,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(t){return this.each(function(){const e=wn.getOrCreateInstance(this,t);if(typeof t=="string"){if(typeof e[t]>"u")throw new TypeError(`No method named "${t}"`);e[t](this)}})}}lr(wn);Ht(wn);var zn={exports:{}},Lh=zn.exports,Vi;function Dh(){return Vi||(Vi=1,function(n,t){(function(e,i){n.exports=i()})(Lh,function(){return function(e){var i={};function a(o){if(i[o])return i[o].exports;var s=i[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,a),s.l=!0,s.exports}return a.m=e,a.c=i,a.d=function(o,s,l){a.o(o,s)||Object.defineProperty(o,s,{enumerable:!0,get:l})},a.r=function(o){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(o,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(o,"__esModule",{value:!0})},a.t=function(o,s){if(1&s&&(o=a(o)),8&s||4&s&&typeof o=="object"&&o&&o.__esModule)return o;var l=Object.create(null);if(a.r(l),Object.defineProperty(l,"default",{enumerable:!0,value:o}),2&s&&typeof o!="string")for(var c in o)a.d(l,c,(function(r){return o[r]}).bind(null,c));return l},a.n=function(o){var s=o&&o.__esModule?function(){return o.default}:function(){return o};return a.d(s,"a",s),s},a.o=function(o,s){return Object.prototype.hasOwnProperty.call(o,s)},a.p="",a(a.s=0)}([function(e,i,a){function o(s){for(var l in s)i.hasOwnProperty(l)||(i[l]=s[l])}Object.defineProperty(i,"__esModule",{value:!0}),o(a(1)),o(a(3))},function(e,i,a){Object.defineProperty(i,"__esModule",{value:!0});const o=a(2);i.DiceRoller=class{constructor(s,l=1e3){this.randFunction=Math.random,this.maxRollCount=1e3,s&&(this.randFunction=s),this.maxRollCount=l}parse(s){return o.parse(s)}roll(s){const l=o.parse(s);return this.rollType(l)}rollValue(s){return this.roll(s).value}rollParsed(s){return this.rollType(s)}rollType(s){let l;switch(s.type){case"diceExpression":l=this.rollDiceExpr(s);break;case"group":l=this.rollGroup(s);break;case"die":l=this.rollDie(s);break;case"expression":l=this.rollExpression(s);break;case"mathfunction":l=this.rollFunction(s);break;case"inline":l=this.rollType(s.expr);break;case"number":l=Object.assign(Object.assign({},s),{success:!1,valid:!0,order:0});break;default:throw new Error(`Unable to render ${s.type}`)}return s.label&&(l.label=s.label),l}rollDiceExpr(s){const l=this.rollType(s.head),c=[l],r=[],h=s.ops.reduce((p,m,_)=>{const E=this.rollType(m.tail);switch(E.order=_,c.push(E),r.push(m.op),m.op){case"+":return p+E.value;case"-":return p-E.value;default:return p}},l.value);return{dice:c,ops:r,success:!1,type:"diceexpressionroll",valid:!0,value:h,order:0}}rollGroup(s){let l=s.rolls.map((c,r)=>Object.assign(Object.assign({},this.rollType(c)),{order:r}));if(s.mods){const c=s.mods,r=h=>{const p=c.some(m=>["failure","success"].includes(m.type));return h=c.reduce((m,_)=>this.applyGroupMod(m,_),h),p&&(h=h.map(m=>(m.success||(m.value=0,m.success=!0),m))),h};if(l.length===1&&["die","diceexpressionroll"].includes(l[0].type)){const h=l[0];let p=h.type==="die"?h.rolls:h.dice.filter(m=>m.type!=="number").reduce((m,_)=>[...m,..._.type==="die"?_.rolls:_.dice],[]);p=r(p),h.value=p.reduce((m,_)=>_.valid?m+_.value:m,0)}else l=r(l)}return{dice:l,success:!1,type:"grouproll",valid:!0,value:l.reduce((c,r)=>r.valid?c+r.value:c,0),order:0}}rollDie(s){const l=this.rollType(s.count);if(l.value>this.maxRollCount)throw new Error("Entered number of dice too large.");let c,r;s.die.type==="fate"?(r={type:"fate",success:!1,valid:!1,value:0,order:0},c=Array.from({length:l.value},(m,_)=>this.generateFateRoll(_))):(r=this.rollType(s.die),c=Array.from({length:l.value},(m,_)=>this.generateDiceRoll(r.value,_))),s.mods&&(c=s.mods.reduce((m,_)=>this.applyMod(m,_),c)),s.targets&&(c=s.targets.reduce((m,_)=>this.applyMod(m,_),c).map(m=>(m.success||(m.value=0,m.success=!0),m)));let h=!1,p=0;if(s.match){const m=s.match,_=c.reduce((w,N)=>w.set(N.roll,(w.get(N.roll)||0)+1),new Map),E=new Set(Array.from(_.entries()).filter(([w,N])=>N>=m.min.value).filter(([w])=>!(m.mod&&m.expr)||this.successTest(m.mod,this.rollType(m.expr).value,w)).map(([w])=>w));c.filter(w=>E.has(w.roll)).forEach(w=>w.matched=!0),m.count&&(h=!0,p=E.size)}return s.sort&&(c=this.applySort(c,s.sort)),{count:l,die:r,rolls:c,success:!1,type:"die",valid:!0,value:h?p:c.reduce((m,_)=>_.valid?m+_.value:m,0),order:0,matched:h}}rollExpression(s){const l=this.rollType(s.head),c=[l],r=[],h=s.ops.reduce((p,m)=>{const _=this.rollType(m.tail);switch(c.push(_),r.push(m.op),m.op){case"+":return p+_.value;case"-":return p-_.value;case"*":return p*_.value;case"/":return p/_.value;case"%":return p%_.value;case"**":return p**_.value;default:return p}},l.value);return{dice:c,ops:r,success:!1,type:"expressionroll",valid:!0,value:h,order:0}}rollFunction(s){const l=this.rollType(s.expr);let c;switch(s.op){case"floor":c=Math.floor(l.value);break;case"ceil":c=Math.ceil(l.value);break;case"round":c=Math.round(l.value);break;case"abs":c=Math.abs(l.value);break;default:c=l.value}return{expr:l,op:s.op,success:!1,type:"mathfunction",valid:!0,value:c,order:0}}applyGroupMod(s,l){return this.getGroupModMethod(l)(s)}getGroupModMethod(s){const l=c=>c.value;switch(s.type){case"success":return this.getSuccessMethod(s,l);case"failure":return this.getFailureMethod(s,l);case"keep":return this.getKeepMethod(s,l);case"drop":return this.getDropMethod(s,l);default:throw new Error(`Mod ${s.type} is not recognised`)}}applyMod(s,l){return this.getModMethod(l)(s)}getModMethod(s){const l=c=>c.roll;switch(s.type){case"success":return this.getSuccessMethod(s,l);case"failure":return this.getFailureMethod(s,l);case"crit":return this.getCritSuccessMethod(s,l);case"critfail":return this.getCritFailureMethod(s,l);case"keep":return c=>this.getKeepMethod(s,l)(c).sort((r,h)=>r.order-h.order);case"drop":return c=>this.getDropMethod(s,l)(c).sort((r,h)=>r.order-h.order);case"explode":return this.getExplodeMethod(s);case"compound":return this.getCompoundMethod(s);case"penetrate":return this.getPenetrateMethod(s);case"reroll":return this.getReRollMethod(s);case"rerollOnce":return this.getReRollOnceMethod(s);default:throw new Error(`Mod ${s.type} is not recognised`)}}applySort(s,l){return s.sort((c,r)=>l.asc?c.roll-r.roll:r.roll-c.roll),s.forEach((c,r)=>c.order=r),s}getCritSuccessMethod(s,l){const c=this.rollType(s.expr);return r=>r.map(h=>{if(!h.valid||h.type!=="roll"||h.success)return h;const p=h;return this.successTest(s.mod,c.value,l(h))?p.critical="success":p.critical==="success"&&(p.critical=null),h})}getCritFailureMethod(s,l){const c=this.rollType(s.expr);return r=>r.map(h=>{if(!h.valid||h.type!=="roll"||h.success)return h;const p=h;return this.successTest(s.mod,c.value,l(h))?p.critical="failure":p.critical==="failure"&&(p.critical=null),h})}getSuccessMethod(s,l){const c=this.rollType(s.expr);return r=>r.map(h=>(h.valid&&this.successTest(s.mod,c.value,l(h))&&(h.success?h.value+=1:(h.value=1,h.success=!0)),h))}getFailureMethod(s,l){const c=this.rollType(s.expr);return r=>r.map(h=>(h.valid&&this.successTest(s.mod,c.value,l(h))&&(h.success?h.value-=1:(h.value=-1,h.success=!0)),h))}getKeepMethod(s,l){const c=this.rollType(s.expr);return r=>{if(r.length===0)return r;r=r.sort((E,w)=>s.highlow==="l"?l(w)-l(E):l(E)-l(w)).sort((E,w)=>(E.valid?1:0)-(w.valid?1:0));const h=Math.max(Math.min(c.value,r.length),0);let p=0,m=0;const _=r.reduce((E,w)=>(w.valid?1:0)+E,0)-h;for(;m<r.length&&p<_;)r[m].valid&&(r[m].valid=!1,p++),m++;return r}}getDropMethod(s,l){const c=this.rollType(s.expr);return r=>{r=r.sort((_,E)=>s.highlow==="h"?l(E)-l(_):l(_)-l(E));const h=Math.max(Math.min(c.value,r.length),0);let p=0,m=0;for(;m<r.length&&p<h;)r[m].valid&&(r[m].valid=!1,p++),m++;return r}}getExplodeMethod(s){const l=s.target?this.rollType(s.target.value):null;return c=>{const r=l?h=>this.successTest(s.target.mod,l.value,h.roll):h=>this.successTest("=",h.type==="fateroll"?1:h.die,h.roll);if(c[0].type==="roll"&&r({roll:1})&&r({roll:c[0].die}))throw new Error("Invalid reroll target");for(let h=0;h<c.length;h++){let p=c[h];p.order=h;let m=0;for(;r(p)&&m++<1e3;){const _=this.reRoll(p,++h);c.splice(h,0,_),p=_}}return c}}getCompoundMethod(s){const l=s.target?this.rollType(s.target.value):null;return c=>{const r=l?h=>this.successTest(s.target.mod,l.value,h.roll):h=>this.successTest("=",h.type==="fateroll"?1:h.die,h.roll);if(c[0].type==="roll"&&r({roll:1})&&r({roll:c[0].die}))throw new Error("Invalid reroll target");for(let h=0;h<c.length;h++){let p=c[h],m=p.roll,_=0;for(;r(p)&&_++<1e3;){const E=this.reRoll(c[h],++h);m+=E.roll,p=E}p.value=m,p.roll=m}return c}}getPenetrateMethod(s){const l=s.target?this.rollType(s.target.value):null;return c=>{const r=l?h=>this.successTest(s.target.mod,l.value,h.roll):h=>this.successTest("=",h.type==="fateroll"?1:h.die,h.roll);if(l&&c[0].type==="roll"&&r(c[0])&&this.successTest(s.target.mod,l.value,1))throw new Error("Invalid reroll target");for(let h=0;h<c.length;h++){let p=c[h];p.order=h;let m=0;for(;r(p)&&m++<1e3;){const _=this.reRoll(p,++h);_.value-=1,_.roll-=1,c.splice(h,0,_),p=_}}return c}}getReRollMethod(s){const l=s.target?this.successTest.bind(null,s.target.mod,this.rollType(s.target.value).value):this.successTest.bind(null,"=",1);return c=>{if(c[0].type==="roll"&&l(1)&&l(c[0].die))throw new Error("Invalid reroll target");for(let r=0;r<c.length;r++)for(;l(c[r].roll);){c[r].valid=!1;const h=this.reRoll(c[r],r+1);c.splice(++r,0,h)}return c}}getReRollOnceMethod(s){const l=s.target?this.successTest.bind(null,s.target.mod,this.rollType(s.target.value).value):this.successTest.bind(null,"=",1);return c=>{if(c[0].type==="roll"&&l(1)&&l(c[0].die))throw new Error("Invalid reroll target");for(let r=0;r<c.length;r++)if(l(c[r].roll)){c[r].valid=!1;const h=this.reRoll(c[r],r+1);c.splice(++r,0,h)}return c}}successTest(s,l,c){switch(s){case">":return c>=l;case"<":return c<=l;case"=":default:return c==l}}reRoll(s,l){switch(s.type){case"roll":return this.generateDiceRoll(s.die,l);case"fateroll":return this.generateFateRoll(l);default:throw new Error(`Cannot do a reroll of a ${s.type}.`)}}generateDiceRoll(s,l){const c=Math.floor(this.randFunction()*s)+1;return{critical:c===s?"success":c===1?"failure":null,die:s,matched:!1,order:l,roll:c,success:!1,type:"roll",valid:!0,value:c}}generateFateRoll(s){const l=Math.floor(3*this.randFunction())-1;return{matched:!1,order:s,roll:l,success:!1,type:"fateroll",valid:!0,value:l}}}},function(e,i,a){function o(s,l,c,r){this.message=s,this.expected=l,this.found=c,this.location=r,this.name="SyntaxError",typeof Error.captureStackTrace=="function"&&Error.captureStackTrace(this,o)}(function(s,l){function c(){this.constructor=s}c.prototype=l.prototype,s.prototype=new c})(o,Error),o.buildMessage=function(s,l){var c={literal:function(m){return'"'+h(m.text)+'"'},class:function(m){var _,E="";for(_=0;_<m.parts.length;_++)E+=m.parts[_]instanceof Array?p(m.parts[_][0])+"-"+p(m.parts[_][1]):p(m.parts[_]);return"["+(m.inverted?"^":"")+E+"]"},any:function(m){return"any character"},end:function(m){return"end of input"},other:function(m){return m.description}};function r(m){return m.charCodeAt(0).toString(16).toUpperCase()}function h(m){return m.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(_){return"\\x0"+r(_)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(_){return"\\x"+r(_)})}function p(m){return m.replace(/\\/g,"\\\\").replace(/\]/g,"\\]").replace(/\^/g,"\\^").replace(/-/g,"\\-").replace(/\0/g,"\\0").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/[\x00-\x0F]/g,function(_){return"\\x0"+r(_)}).replace(/[\x10-\x1F\x7F-\x9F]/g,function(_){return"\\x"+r(_)})}return"Expected "+function(m){var _,E,w,N=new Array(m.length);for(_=0;_<m.length;_++)N[_]=(w=m[_],c[w.type](w));if(N.sort(),N.length>0){for(_=1,E=1;_<N.length;_++)N[_-1]!==N[_]&&(N[E]=N[_],E++);N.length=E}switch(N.length){case 1:return N[0];case 2:return N[0]+" or "+N[1];default:return N.slice(0,-1).join(", ")+", or "+N[N.length-1]}}(s)+" but "+function(m){return m?'"'+h(m)+'"':"end of input"}(l)+" found."},e.exports={SyntaxError:o,parse:function(s,l){l=l!==void 0?l:{};var c,r={},h={start:Ls},p=Ls,m={type:"any"},_=U("[[",!1),E=U("]]",!1),w=function(f,v){return v&&(f.label=v),f},N=U(">",!1),k=U("<",!1),L=U("=",!1),j=U("f",!1),I=U("cs",!1),P=U("cf",!1),H=U("m",!1),Y=U("t",!1),z=U("k",!1),R=U("l",!1),O=U("h",!1),V=U("d",!1),tt=U("{",!1),st=U(",",!1),Ft=U("}",!1),ut=U("+",!1),ot=U("sa",!1),dt=U("sd",!1),Qt=U("!",!1),At=U("!!",!1),Vt=U("!p",!1),Xt=U("r",!1),Jt=U("ro",!1),oe=U("F",!1),Tt=U("%",!1),Nt=U("(",!1),Wt=U(")",!1),Lt=U("-",!1),ht=function(f,v){return v.length==0?f:{head:f,type:"expression",ops:v.map(g=>({type:"math",op:g[1],tail:g[3]}))}},ae=U("*",!1),Ie=U("/",!1),Ut=U("**",!1),le=U("floor",!1),ve=U("ceil",!1),y=U("round",!1),F=U("abs",!1),x=Os("integer"),X=/^[0-9]/,at=fr([["0","9"]],!1,!1),be=function(){return{type:"number",value:parseInt(s.substring(W,d),10)}},Dt=U("[",!1),Zt=/^[^\]]/,ye=fr(["]"],!0,!1),Cn=U("]",!1),Ze=Os("whitespace"),tn=/^[ \t\n\r]/,en=fr([" ","	",`
`,"\r"],!1,!1),d=0,W=0,Sn=[{line:1,column:1}],Bt=0,hr=[],C=0;if("startRule"in l){if(!(l.startRule in h))throw new Error(`Can't start parsing from rule "`+l.startRule+'".');p=h[l.startRule]}function U(f,v){return{type:"literal",text:f,ignoreCase:v}}function fr(f,v,g){return{type:"class",parts:f,inverted:v,ignoreCase:g}}function Os(f){return{type:"other",description:f}}function $s(f){var v,g=Sn[f];if(g)return g;for(v=f-1;!Sn[v];)v--;for(g={line:(g=Sn[v]).line,column:g.column};v<f;)s.charCodeAt(v)===10?(g.line++,g.column=1):g.column++,v++;return Sn[f]=g,g}function ks(f,v){var g=$s(f),b=$s(v);return{start:{offset:f,line:g.line,column:g.column},end:{offset:v,line:b.line,column:b.column}}}function S(f){d<Bt||(d>Bt&&(Bt=d,hr=[]),hr.push(f))}function oa(f,v,g){return new o(o.buildMessage(f,v),f,v,g)}function Ls(){var f,v,g,b,D,T;if(f=d,(v=_r())!==r){for(g=[],s.length>d?(b=s.charAt(d),d++):(b=r,C===0&&S(m));b!==r;)g.push(b),s.length>d?(b=s.charAt(d),d++):(b=r,C===0&&S(m));g!==r?(W=f,T=g,(D=v).root=!0,T&&(D.label=T.join("")),f=v=D):(d=f,f=r)}else d=f,f=r;return f}function aa(){var f,v,g;return f=d,(v=function(){var b,D,T,$,B;if(b=d,(D=function(){var G,wt,te,ft,et,Ct,bt,It,it;if(G=d,s.charCodeAt(d)===123?(wt="{",d++):(wt=r,C===0&&S(tt)),wt!==r)if(Q()!==r)if((te=pr())!==r){for(ft=[],et=d,(Ct=Q())!==r?(s.charCodeAt(d)===44?(bt=",",d++):(bt=r,C===0&&S(st)),bt!==r&&(It=Q())!==r&&(it=pr())!==r?et=Ct=[Ct,bt,It,it]:(d=et,et=r)):(d=et,et=r);et!==r;)ft.push(et),et=d,(Ct=Q())!==r?(s.charCodeAt(d)===44?(bt=",",d++):(bt=r,C===0&&S(st)),bt!==r&&(It=Q())!==r&&(it=pr())!==r?et=Ct=[Ct,bt,It,it]:(d=et,et=r)):(d=et,et=r);ft!==r&&(et=Q())!==r?(s.charCodeAt(d)===125?(Ct="}",d++):(Ct=r,C===0&&S(Ft)),Ct!==r?(W=G,wt={rolls:[te,...ft.map(ua=>ua[3])],type:"group"},G=wt):(d=G,G=r)):(d=G,G=r)}else d=G,G=r;else d=G,G=r;else d=G,G=r;return G}())!==r){for(T=[],($=$n())===r&&($=kn())===r&&($=xn())===r&&($=On());$!==r;)T.push($),($=$n())===r&&($=kn())===r&&($=xn())===r&&($=On());T!==r&&($=Q())!==r?((B=Ln())===r&&(B=null),B!==r?(W=b,K=D,vt=B,(J=T).length>0&&(K.mods=(K.mods||[]).concat(J)),vt&&(K.label=vt),b=D=K):(d=b,b=r)):(d=b,b=r)}else d=b,b=r;var K,J,vt;return b}())===r&&(v=Ms())===r&&(v=Ar()),v!==r&&Q()!==r?((g=Ln())===r&&(g=null),g!==r?(W=f,f=v=w(v,g)):(d=f,f=r)):(d=f,f=r),f}function xn(){var f,v,g;return f=d,s.charCodeAt(d)===62?(v=">",d++):(v=r,C===0&&S(N)),v===r&&(s.charCodeAt(d)===60?(v="<",d++):(v=r,C===0&&S(k)),v===r&&(s.charCodeAt(d)===61?(v="=",d++):(v=r,C===0&&S(L)))),v!==r&&(g=Yt())!==r?(W=f,f=v={type:"success",mod:v,expr:g}):(d=f,f=r),f}function On(){var f,v,g,b;return f=d,s.charCodeAt(d)===102?(v="f",d++):(v=r,C===0&&S(j)),v!==r?(s.charCodeAt(d)===62?(g=">",d++):(g=r,C===0&&S(N)),g===r&&(s.charCodeAt(d)===60?(g="<",d++):(g=r,C===0&&S(k)),g===r&&(s.charCodeAt(d)===61?(g="=",d++):(g=r,C===0&&S(L)))),g===r&&(g=null),g!==r&&(b=Yt())!==r?(W=f,f=v={type:"failure",mod:g,expr:b}):(d=f,f=r)):(d=f,f=r),f}function Ds(){var f,v,g,b;return f=d,s.substr(d,2)==="cs"?(v="cs",d+=2):(v=r,C===0&&S(I)),v!==r?(s.charCodeAt(d)===62?(g=">",d++):(g=r,C===0&&S(N)),g===r&&(s.charCodeAt(d)===60?(g="<",d++):(g=r,C===0&&S(k)),g===r&&(s.charCodeAt(d)===61?(g="=",d++):(g=r,C===0&&S(L)))),g===r&&(g=null),g!==r&&(b=Yt())!==r?(W=f,f=v={type:"crit",mod:g,expr:b}):(d=f,f=r)):(d=f,f=r),f}function Is(){var f,v,g,b;return f=d,s.substr(d,2)==="cf"?(v="cf",d+=2):(v=r,C===0&&S(P)),v!==r?(s.charCodeAt(d)===62?(g=">",d++):(g=r,C===0&&S(N)),g===r&&(s.charCodeAt(d)===60?(g="<",d++):(g=r,C===0&&S(k)),g===r&&(s.charCodeAt(d)===61?(g="=",d++):(g=r,C===0&&S(L)))),g===r&&(g=null),g!==r&&(b=Yt())!==r?(W=f,f=v={type:"critfail",mod:g,expr:b}):(d=f,f=r)):(d=f,f=r),f}function la(){var f,v,g,b,D;return f=d,s.charCodeAt(d)===109?(v="m",d++):(v=r,C===0&&S(H)),v!==r?(s.charCodeAt(d)===116?(g="t",d++):(g=r,C===0&&S(Y)),g===r&&(g=null),g!==r?((b=Ar())===r&&(b=null),b!==r?((D=function(){var T,$,B;return T=d,s.charCodeAt(d)===62?($=">",d++):($=r,C===0&&S(N)),$===r&&(s.charCodeAt(d)===60?($="<",d++):($=r,C===0&&S(k)),$===r&&(s.charCodeAt(d)===61?($="=",d++):($=r,C===0&&S(L)))),$!==r&&(B=Yt())!==r?(W=T,T=$={mod:$,expr:B}):(d=T,T=r),T}())===r&&(D=null),D!==r?(W=f,f=v=function(T,$,B){const K={type:"match",min:$||{type:"number",value:2},count:!!T};return B&&(K.mod=B.mod,K.expr=B.expr),K}(g,b,D)):(d=f,f=r)):(d=f,f=r)):(d=f,f=r)):(d=f,f=r),f}function $n(){var f,v,g,b;return f=d,s.charCodeAt(d)===107?(v="k",d++):(v=r,C===0&&S(z)),v!==r?(s.charCodeAt(d)===108?(g="l",d++):(g=r,C===0&&S(R)),g===r&&(s.charCodeAt(d)===104?(g="h",d++):(g=r,C===0&&S(O))),g===r&&(g=null),g!==r?((b=Yt())===r&&(b=null),b!==r?(W=f,f=v={type:"keep",highlow:g,expr:b||Ws}):(d=f,f=r)):(d=f,f=r)):(d=f,f=r),f}function kn(){var f,v,g,b;return f=d,s.charCodeAt(d)===100?(v="d",d++):(v=r,C===0&&S(V)),v!==r?(s.charCodeAt(d)===108?(g="l",d++):(g=r,C===0&&S(R)),g===r&&(s.charCodeAt(d)===104?(g="h",d++):(g=r,C===0&&S(O))),g===r&&(g=null),g!==r?((b=Yt())===r&&(b=null),b!==r?(W=f,f=v={type:"drop",highlow:g,expr:b||Ws}):(d=f,f=r)):(d=f,f=r)):(d=f,f=r),f}function pr(){var f,v,g,b,D,T,$,B;if(f=d,(v=mr())!==r){for(g=[],b=d,(D=Q())!==r?(s.charCodeAt(d)===43?(T="+",d++):(T=r,C===0&&S(ut)),T!==r&&($=Q())!==r&&(B=mr())!==r?b=D=[D,T,$,B]:(d=b,b=r)):(d=b,b=r);b!==r;)g.push(b),b=d,(D=Q())!==r?(s.charCodeAt(d)===43?(T="+",d++):(T=r,C===0&&S(ut)),T!==r&&($=Q())!==r&&(B=mr())!==r?b=D=[D,T,$,B]:(d=b,b=r)):(d=b,b=r);g!==r?(W=f,f=v=function(K,J){return J.length==0?K:{head:K,type:"diceExpression",ops:J.map(vt=>({type:"math",op:vt[1],tail:vt[3]}))}}(v,g)):(d=f,f=r)}else d=f,f=r;return f}function mr(){var f;return(f=Ms())===r&&(f=_r()),f}function Ms(){var f,v,g;return f=d,(v=function(){var b,D,T,$,B;if(b=d,(D=function(){var K,J,vt,G;if(K=d,(J=function(){var ft,et,Ct,bt;return ft=d,(et=Yt())===r&&(et=null),et!==r?(s.charCodeAt(d)===100?(Ct="d",d++):(Ct=r,C===0&&S(V)),Ct!==r?((bt=function(){var It,it;return It=d,s.charCodeAt(d)===70?(it="F",d++):(it=r,C===0&&S(oe)),it===r&&(s.charCodeAt(d)===102?(it="f",d++):(it=r,C===0&&S(j))),it!==r&&(W=It,it={type:"fate"}),It=it}())===r&&(bt=function(){var It,it;return It=d,s.charCodeAt(d)===37?(it="%",d++):(it=r,C===0&&S(Tt)),it!==r&&(W=It,it={type:"number",value:"100"}),It=it}())===r&&(bt=Yt()),bt!==r?(W=ft,et={die:bt,count:et||{type:"number",value:1},type:"die"},ft=et):(d=ft,ft=r)):(d=ft,ft=r)):(d=ft,ft=r),ft}())!==r){for(vt=[],(G=Ps())===r&&(G=Hs())===r&&(G=Rs())===r&&(G=Vs())===r&&(G=Fs());G!==r;)vt.push(G),(G=Ps())===r&&(G=Hs())===r&&(G=Rs())===r&&(G=Vs())===r&&(G=Fs());vt!==r?(W=K,te=vt,(wt=J).mods=(wt.mods||[]).concat(te),K=J=wt):(d=K,K=r)}else d=K,K=r;var wt,te;return K}())!==r){for(T=[],($=kn())===r&&($=$n())===r&&($=xn())===r&&($=On())===r&&($=Is())===r&&($=Ds());$!==r;)T.push($),($=kn())===r&&($=$n())===r&&($=xn())===r&&($=On())===r&&($=Is())===r&&($=Ds());T!==r?(($=la())===r&&($=null),$!==r?((B=function(){var K,J;return K=d,s.substr(d,2)==="sa"?(J="sa",d+=2):(J=r,C===0&&S(ot)),J!==r&&(W=K,J={type:"sort",asc:!0}),K=J}())===r&&(B=function(){var K,J;return K=d,s.substr(d,2)==="sd"?(J="sd",d+=2):(J=r,C===0&&S(dt)),J!==r&&(W=K,J={type:"sort",asc:!1}),K=J}()),B===r&&(B=null),B!==r?(W=b,D=function(K,J,vt,G){const wt=J.filter(te=>["success","failure"].includes(te.type));return J=J.filter(te=>!wt.includes(te)),K.mods=(K.mods||[]).concat(J),wt.length>0&&(K.targets=wt),vt&&(K.match=vt),G&&(K.sort=G),K}(D,T,$,B),b=D):(d=b,b=r)):(d=b,b=r)):(d=b,b=r)}else d=b,b=r;return b}())!==r&&Q()!==r?((g=Ln())===r&&(g=null),g!==r?(W=f,f=v=w(v,g)):(d=f,f=r)):(d=f,f=r),f}function Rs(){var f,v,g;return f=d,s.charCodeAt(d)===33?(v="!",d++):(v=r,C===0&&S(Qt)),v!==r?((g=nn())===r&&(g=null),g!==r?(W=f,f=v={type:"explode",target:g}):(d=f,f=r)):(d=f,f=r),f}function Ps(){var f,v,g;return f=d,s.substr(d,2)==="!!"?(v="!!",d+=2):(v=r,C===0&&S(At)),v!==r?((g=nn())===r&&(g=null),g!==r?(W=f,f=v={type:"compound",target:g}):(d=f,f=r)):(d=f,f=r),f}function Hs(){var f,v,g;return f=d,s.substr(d,2)==="!p"?(v="!p",d+=2):(v=r,C===0&&S(Vt)),v!==r?((g=nn())===r&&(g=null),g!==r?(W=f,f=v={type:"penetrate",target:g}):(d=f,f=r)):(d=f,f=r),f}function Fs(){var f,v,g;return f=d,s.charCodeAt(d)===114?(v="r",d++):(v=r,C===0&&S(Xt)),v!==r?((g=nn())===r&&(g=null),g!==r?(W=f,f=v={type:"reroll",target:g||js}):(d=f,f=r)):(d=f,f=r),f}function Vs(){var f,v,g;return f=d,s.substr(d,2)==="ro"?(v="ro",d+=2):(v=r,C===0&&S(Jt)),v!==r?((g=nn())===r&&(g=null),g!==r?(W=f,f=v={type:"rerollOnce",target:g||js}):(d=f,f=r)):(d=f,f=r),f}function nn(){var f,v,g;return f=d,s.charCodeAt(d)===62?(v=">",d++):(v=r,C===0&&S(N)),v===r&&(s.charCodeAt(d)===60?(v="<",d++):(v=r,C===0&&S(k)),v===r&&(s.charCodeAt(d)===61?(v="=",d++):(v=r,C===0&&S(L)))),v===r&&(v=null),v!==r&&(g=Yt())!==r?(W=f,f=v={type:"target",mod:v,value:g}):(d=f,f=r),f}function Yt(){var f;return(f=gr())===r&&(f=Ar()),f}function _r(){var f;return(f=function(){var v,g,b,D;return v=d,s.substr(d,2)==="[["?(g="[[",d+=2):(g=r,C===0&&S(_)),g!==r&&(b=_r())!==r?(s.substr(d,2)==="]]"?(D="]]",d+=2):(D=r,C===0&&S(E)),D!==r?(W=v,v=g={type:"inline",expr:b}):(d=v,v=r)):(d=v,v=r),v}())===r&&(f=vr())===r&&(f=gr()),f}function gr(){var f,v,g,b,D,T,$;return f=d,s.charCodeAt(d)===40?(v="(",d++):(v=r,C===0&&S(Nt)),v!==r&&(g=vr())!==r?(s.charCodeAt(d)===41?(b=")",d++):(b=r,C===0&&S(Wt)),b!==r&&Q()!==r?((D=Ln())===r&&(D=null),D!==r?(W=f,T=g,($=D)&&(T.label=$),f=v=T):(d=f,f=r)):(d=f,f=r)):(d=f,f=r),f}function vr(){var f,v,g,b,D,T,$,B;if(f=d,(v=br())!==r){for(g=[],b=d,(D=Q())!==r?(s.charCodeAt(d)===43?(T="+",d++):(T=r,C===0&&S(ut)),T===r&&(s.charCodeAt(d)===45?(T="-",d++):(T=r,C===0&&S(Lt))),T!==r&&($=Q())!==r&&(B=br())!==r?b=D=[D,T,$,B]:(d=b,b=r)):(d=b,b=r);b!==r;)g.push(b),b=d,(D=Q())!==r?(s.charCodeAt(d)===43?(T="+",d++):(T=r,C===0&&S(ut)),T===r&&(s.charCodeAt(d)===45?(T="-",d++):(T=r,C===0&&S(Lt))),T!==r&&($=Q())!==r&&(B=br())!==r?b=D=[D,T,$,B]:(d=b,b=r)):(d=b,b=r);g!==r?(W=f,f=v=ht(v,g)):(d=f,f=r)}else d=f,f=r;return f}function br(){var f,v,g,b,D,T,$,B;if(f=d,(v=yr())!==r){for(g=[],b=d,(D=Q())!==r?(s.charCodeAt(d)===42?(T="*",d++):(T=r,C===0&&S(ae)),T===r&&(s.charCodeAt(d)===47?(T="/",d++):(T=r,C===0&&S(Ie))),T!==r&&($=Q())!==r&&(B=yr())!==r?b=D=[D,T,$,B]:(d=b,b=r)):(d=b,b=r);b!==r;)g.push(b),b=d,(D=Q())!==r?(s.charCodeAt(d)===42?(T="*",d++):(T=r,C===0&&S(ae)),T===r&&(s.charCodeAt(d)===47?(T="/",d++):(T=r,C===0&&S(Ie))),T!==r&&($=Q())!==r&&(B=yr())!==r?b=D=[D,T,$,B]:(d=b,b=r)):(d=b,b=r);g!==r?(W=f,f=v=ht(v,g)):(d=f,f=r)}else d=f,f=r;return f}function yr(){var f,v,g,b,D,T,$,B;if(f=d,(v=Er())!==r){for(g=[],b=d,(D=Q())!==r?(s.substr(d,2)==="**"?(T="**",d+=2):(T=r,C===0&&S(Ut)),T===r&&(s.charCodeAt(d)===37?(T="%",d++):(T=r,C===0&&S(Tt))),T!==r&&($=Q())!==r&&(B=Er())!==r?b=D=[D,T,$,B]:(d=b,b=r)):(d=b,b=r);b!==r;)g.push(b),b=d,(D=Q())!==r?(s.substr(d,2)==="**"?(T="**",d+=2):(T=r,C===0&&S(Ut)),T===r&&(s.charCodeAt(d)===37?(T="%",d++):(T=r,C===0&&S(Tt))),T!==r&&($=Q())!==r&&(B=Er())!==r?b=D=[D,T,$,B]:(d=b,b=r)):(d=b,b=r);g!==r?(W=f,f=v=ht(v,g)):(d=f,f=r)}else d=f,f=r;return f}function ca(){var f,v,g,b,D;return f=d,(v=function(){var T;return s.substr(d,5)==="floor"?(T="floor",d+=5):(T=r,C===0&&S(le)),T===r&&(s.substr(d,4)==="ceil"?(T="ceil",d+=4):(T=r,C===0&&S(ve)),T===r&&(s.substr(d,5)==="round"?(T="round",d+=5):(T=r,C===0&&S(y)),T===r&&(s.substr(d,3)==="abs"?(T="abs",d+=3):(T=r,C===0&&S(F))))),T}())!==r&&Q()!==r?(s.charCodeAt(d)===40?(g="(",d++):(g=r,C===0&&S(Nt)),g!==r&&Q()!==r&&(b=vr())!==r&&Q()!==r?(s.charCodeAt(d)===41?(D=")",d++):(D=r,C===0&&S(Wt)),D!==r?(W=f,f=v={type:"mathfunction",op:v,expr:b}):(d=f,f=r)):(d=f,f=r)):(d=f,f=r),f}function Er(){var f;return(f=ca())===r&&(f=aa())===r&&(f=gr()),f}function Ar(){var f,v,g,b;if(C++,f=d,s.charCodeAt(d)===45?(v="-",d++):(v=r,C===0&&S(Lt)),v===r&&(v=null),v!==r){if(g=[],X.test(s.charAt(d))?(b=s.charAt(d),d++):(b=r,C===0&&S(at)),b!==r)for(;b!==r;)g.push(b),X.test(s.charAt(d))?(b=s.charAt(d),d++):(b=r,C===0&&S(at));else g=r;g!==r?(W=f,f=v=be()):(d=f,f=r)}else d=f,f=r;return C--,f===r&&(v=r,C===0&&S(x)),f}function Ln(){var f,v,g,b;if(f=d,s.charCodeAt(d)===91?(v="[",d++):(v=r,C===0&&S(Dt)),v!==r){if(g=[],Zt.test(s.charAt(d))?(b=s.charAt(d),d++):(b=r,C===0&&S(ye)),b!==r)for(;b!==r;)g.push(b),Zt.test(s.charAt(d))?(b=s.charAt(d),d++):(b=r,C===0&&S(ye));else g=r;g!==r?(s.charCodeAt(d)===93?(b="]",d++):(b=r,C===0&&S(Cn)),b!==r?(W=f,f=v=g.join("")):(d=f,f=r)):(d=f,f=r)}else d=f,f=r;return f}function Q(){var f,v;for(C++,f=[],tn.test(s.charAt(d))?(v=s.charAt(d),d++):(v=r,C===0&&S(en));v!==r;)f.push(v),tn.test(s.charAt(d))?(v=s.charAt(d),d++):(v=r,C===0&&S(en));return C--,f===r&&(v=r,C===0&&S(Ze)),f}const js={type:"target",mod:"=",value:{type:"number",value:1}},Ws={type:"number",value:1};if((c=p())!==r&&d===s.length)return c;throw c!==r&&d<s.length&&S({type:"end"}),oa(hr,Bt<s.length?s.charAt(Bt):null,Bt<s.length?ks(Bt,Bt+1):ks(Bt,Bt))}}},function(e,i,a){Object.defineProperty(i,"__esModule",{value:!0}),i.DiscordRollRenderer=class{render(o){return this.doRender(o,!0)}doRender(o,s=!1){let l="";switch(o.type){case"diceexpressionroll":l=this.renderGroupExpr(o);break;case"grouproll":l=this.renderGroup(o);break;case"die":l=this.renderDie(o);break;case"expressionroll":l=this.renderExpression(o);break;case"mathfunction":l=this.renderFunction(o);break;case"roll":return this.renderRoll(o);case"fateroll":return this.renderFateRoll(o);case"number":const c=o.label?` (${o.label})`:"";return`${o.value}${c}`;case"fate":return"F";default:throw new Error("Unable to render")}return o.valid||(l="~~"+l.replace(/~~/g,"")+"~~"),s?this.stripBrackets(l):o.label?`(${o.label}: ${l})`:l}renderGroup(o){const s=[];for(const l of o.dice)s.push(this.doRender(l));return s.length>1?`{ ${s.join(" + ")} } = ${o.value}`:`{ ${this.stripBrackets(s[0])} } = ${o.value}`}renderGroupExpr(o){const s=[];for(const l of o.dice)s.push(this.doRender(l));return s.length>1?`(${s.join(" + ")} = ${o.value})`:s[0]}renderDie(o){const s=[];for(const r of o.rolls)s.push(this.doRender(r));let l=`${s.join(", ")}`;["number","fate"].includes(o.die.type)&&o.count.type==="number"||(l+=`[*Rolling: ${this.doRender(o.count)}d${this.doRender(o.die)}*]`);const c=o.matched?` Match${o.value===1?"":"es"}`:"";return l+=` = ${o.value}${c}`,`(${l})`}renderExpression(o){if(o.dice.length>1){const s=[];for(let l=0;l<o.dice.length-1;l++)s.push(this.doRender(o.dice[l])),s.push(o.ops[l]);return s.push(this.doRender(o.dice.slice(-1)[0])),s.push("="),s.push(o.value+""),`(${s.join(" ")})`}return o.dice[0].type==="number"?o.value+"":this.doRender(o.dice[0])}renderFunction(o){const s=this.doRender(o.expr);return`(${o.op}${this.addBrackets(s)} = ${o.value})`}addBrackets(o){return o.startsWith("(")||(o=`(${o}`),o.endsWith(")")||(o=`${o})`),o}stripBrackets(o){return o.startsWith("(")&&(o=o.substring(1)),o.endsWith(")")&&(o=o.substring(0,o.length-1)),o}renderRoll(o){let s=`${o.roll}`;return o.valid?o.success&&o.value===1?s=`**${o.roll}**`:o.success&&o.value===-1?s=`*${o.roll}*`:o.success||o.critical!=="success"?o.success||o.critical!=="failure"||(s=`*${o.roll}*`):s=`**${o.roll}**`:s=`~~${o.roll}~~`,o.matched&&(s=`__${s}__`),s}renderFateRoll(o){const s=o.roll===0?"0":o.roll>0?"+":"-";let l=`${o.roll}`;return o.valid?o.success&&o.value===1?l=`**${s}**`:o.success&&o.value===-1&&(l=`*${s}*`):l=`~~${s}~~`,o.matched&&(l=`__${l}__`),l}}}])})}(zn)),zn.exports}var Ih=Dh();function Ss(n){return String(n).charAt(0).toUpperCase()+String(n).slice(1)}const er="/requiem-pathfinder-preact/",de=16,Wr=4,nr=(n,t)=>Math.floor(Math.floor(n*t)/5),ee=(n,t)=>{const e=n.find(i=>i.isLinked&&i.linkedStat===t);return e?nr(e.quantity,e.rank):0},Ur=(n,t,e,i=!1)=>t.replace(/\[(\w+)\]/g,(a,o)=>{const s=e[o]||0,l=ee(n,o),c=s+l;return i?Ss(c.toString()):`${c}[${o}]`}),Mh=n=>{const t=[];return n.name||t.push("Spell name is required"),n.quantity<0&&t.push("Quantity must be 0 or higher"),n.quantity>de&&t.push("Quantity over maximum stack limit"),n.power<=0&&t.push("Spell level must be greater than 0"),n.dice||t.push("Damage roll is required"),t},Rh=(n,t)=>{if(!n)return{isValid:!1,error:"A valid dice roll is required."};try{const e=n.replace(/\[\w+\]/g,"0");new Ih.DiceRoller().roll(e);const a=(n.match(/\[(\w+)\]/g)||[]).map(o=>o.slice(1,-1)).filter(o=>t[o]===void 0);return a.length>0?{isValid:!1,error:`Unknown stats: ${a.join(", ")}`}:{isValid:!0,error:null}}catch{return{isValid:!1,error:"Invalid dice format. Use format like '1d6+[spellAttackModifier]' or '2d8+3'"}}},Ph=({spellToDelete:n,confirmDelete:t,setSpellToDelete:e})=>u("div",{className:`modal fade ${n?"show":""}`,style:{display:n?"block":"none"},tabIndex:-1,children:u("div",{className:"modal-dialog",children:u("div",{className:"modal-content",children:[u("div",{className:"modal-header",children:[u("h5",{className:"modal-title",children:"Confirm Deletion"}),u("button",{type:"button",className:"btn-close",onClick:()=>e(null),"aria-label":"Close"})]}),u("div",{className:"modal-body",children:"Are you sure you want to delete this spell?"}),u("div",{className:"modal-footer",children:[u("button",{type:"button",className:"btn btn-secondary",onClick:()=>e(null),children:"No, Keep It"}),u("button",{type:"button",className:"btn btn-danger",onClick:t,children:"Yes, Delete It"})]})]})})}),Hh=({isModalOpen:n,closeModal:t,spellBeingEdited:e,currentSpell:i,setCurrentSpell:a,incrementPower:o,decrementPower:s,getSpellRank:l,getActionLabel:c,validateDiceRoll:r,diceError:h,saveSpell:p,removeSpell:m})=>u("div",{className:`modal ${n?"show":""}`,style:{display:n?"block":"none"},tabIndex:-1,children:u("div",{className:"modal-dialog",children:u("div",{className:"modal-content",children:[u("div",{className:"modal-header",children:[u("h5",{className:"modal-title",children:e?"Edit Spell Entry":"Add Spell"}),u("button",{type:"button",className:"btn-close",onClick:t})]}),u("div",{className:"modal-body",children:[u("div",{className:"mb-2",children:[u("label",{className:"form-label",children:"Spell Name"}),u("input",{type:"text",className:"form-control",placeholder:"Spell Name",value:i.name,onInput:_=>a({...i,name:_.currentTarget.value})})]}),u("div",{className:"mb-2",children:[u("label",{className:"form-label",children:"Spell Level"}),u("div",{className:"input-group",children:[u("button",{className:"btn btn-outline-secondary",type:"button",onClick:s,disabled:i.power<=1,children:u("i",{className:"fas fa-minus"})}),u("input",{type:"number",className:`form-control ${i.power<=0?"is-invalid":""}`,placeholder:"Spell Level",min:"1",value:i.power,onInput:_=>{const E=Math.max(1,parseInt(_.currentTarget.value,10)||1);a({...i,power:E,rank:l(E)})}}),u("button",{className:"btn btn-outline-secondary",type:"button",onClick:o,children:u("i",{className:"fas fa-plus"})}),i.power<=0&&u("div",{className:"invalid-feedback",children:"Spell level must be at least 1"})]})]}),u("div",{className:"alert alert-info py-1 mb-2",children:[u("i",{className:"fas fa-link me-2"}),u("small",{className:"text-muted d-block mt-1",children:["This spell's ",u("a",{href:"https://docs.google.com/document/d/1ZTxCemR8j6GhIMqhvmBd7kOo8wNsOisO_vOutlQBYv0/edit?tab=t.0",target:"_blank",children:"Soul Link Rank"})," will be ",u("b",{children:[l(i.power),"."]})]})]}),u("label",{className:"form-label",children:"Actions to Cast"}),u("div",{className:"input-group mb-2",children:[u("span",{className:"input-group-text",children:c(i.actions)}),u("select",{className:"form-select",value:i.actions,onChange:_=>a({...i,actions:parseInt(_.currentTarget.value)}),children:[u("option",{value:"1",children:"1 Action"}),u("option",{value:"2",children:"2 Actions"}),u("option",{value:"3",children:"3 Actions"}),u("option",{value:"0",children:"Free Action"})]})]}),u("label",{className:"form-label",children:"Element"}),u("div",{className:"input-group mb-2",children:[u("span",{className:"input-group-text",children:cn(i.element)}),u("select",{className:"form-select",value:i.element,onChange:_=>a({...i,element:_.currentTarget.value}),children:Object.entries(lt).map(([_,E])=>u("option",{value:E,children:E},_))})]}),u("label",{className:"form-label",children:"Damage Roll(s)"}),u("div",{className:"input-group mb-2",children:[u("span",{className:"input-group-text",children:u("i",{className:"fas fa-dice-d20"})}),u("input",{type:"text",className:`form-control ${h?"is-invalid":""}`,placeholder:"Dice Roll (e.g. 1d4)",value:i.dice,onInput:_=>{const E=_.currentTarget.value;a({...i,dice:E}),r(E)}}),h&&u("div",{className:"invalid-feedback",children:h})]}),u("div",{className:"alert alert-info py-1 mb-2",children:[u("i",{className:"fas fa-info-circle me-2"}),u("small",{children:"Use [stat] to include a stat's value (e.g., [strength] + 1d6)"})]}),u("div",{className:"mb-2",children:[u("label",{className:"form-label",children:"Spell Description"}),u("textarea",{className:"form-control",placeholder:"Spell Description",value:i.description,onInput:_=>a({...i,description:_.currentTarget.value})})]}),u("div",{className:"mb-2",children:[u("label",{className:"form-label",children:["Amount currently stocked ",u("i",{children:'("Spell Charges")'})]}),u("div",{className:"input-group",children:u("input",{type:"number",className:`form-control ${i.quantity<0||i.quantity>de?"is-invalid":""}`,placeholder:"Quantity",min:"0",max:de.toString(),value:i.quantity,onInput:_=>{const E=parseInt(_.currentTarget.value,10)||0;E>de?a({...i,quantity:de}):a({...i,quantity:Math.max(0,E)})}})})]})]}),u("div",{className:"modal-footer",children:[u("button",{type:"button",className:"btn btn-secondary",onClick:t,children:[u("i",{className:"fas fa-times me-1"}),"Close"]}),e&&u("button",{type:"button",className:"btn btn-danger",onClick:()=>m(e.id),children:[u("i",{className:"fas fa-trash-alt me-1"}),"Delete"]}),u("button",{type:"button",className:"btn btn-success",onClick:p,children:[u("i",{className:`fas ${e?"fa-save":"fa-plus"} me-1`}),e?"Save Changes":"Add Spell"]})]})]})})}),Fh=({isLinkModalOpen:n,closeLinkModal:t,currentSpell:e,setCurrentSpell:i,saveSpell:a,getLinkedStats:o})=>{var l;if(!e)return null;const{spells:s}=sr();return u("div",{className:`modal fade ${n?"show":""}`,style:{display:n?"block":"none"},tabIndex:-1,children:u("div",{className:"modal-dialog",children:u("div",{className:"modal-content",children:[u("div",{className:"modal-header",children:[u("h5",{className:"modal-title",children:`Link ${e.name} to stat`}),u("button",{type:"button",className:"btn-close",onClick:t,"aria-label":"Close"})]}),u("div",{className:"modal-body",children:u("div",{className:"input-group mb-2",children:[u("span",{className:"input-group-text gap-1",children:u("i",{className:`fas ${e.linkedStat&&e.linkedStat!=="None"&&((l=ct[e.linkedStat])==null?void 0:l.icon)||"fa-link-slash"}`})}),u("select",{className:"form-select",value:e.linkedStat||"None",onChange:c=>i({...e,linkedStat:c.currentTarget.value==="None"?null:c.currentTarget.value,isLinked:c.currentTarget.value!=="None"}),children:[u("option",{value:"None",children:"None"}),Object.entries(ct).map(([c,r])=>(!o().includes(c)||c===e.linkedStat)&&r.type!==mt.CORE?u("option",{value:c,children:r.name},c):null)]}),u("span",{className:"input-group-text",children:["+",nr(e.quantity,e.rank)]})]})}),u("div",{className:"modal-footer",children:[u("button",{type:"button",className:"btn btn-secondary",onClick:t,children:[u("i",{className:"fas fa-times me-1"}),"Close"]}),u("button",{type:"button",className:"btn btn-success",onClick:a,children:[u("i",{className:`fas ${e.id?"fa-save":"fa-plus"} me-1`})," ",e.id?"Save Changes":"Add Spell"]})]})]})})})},xs=()=>{const[n,t]=rt(null);return yt(()=>{t(document.createElement("div"))},[]),yt(()=>{if(n)return n.className="toast-container position-fixed bottom-0 end-0 p-3",document.body.appendChild(n),()=>{document.body.removeChild(n)}},[n]),{showToast:(i,a="info-circle",o="primary",s="Notification")=>{if(!n)return;const l=document.createElement("div");l.className="toast",l.setAttribute("role","alert"),l.setAttribute("aria-live","assertive"),l.setAttribute("aria-atomic","true"),l.innerHTML=`
            <div class="toast-header">
                <i class="fas fa-${a} me-2 text-${o}"></i>
                <strong class="me-auto">${s}</strong>
                <button type="button" class="btn-close" data-bs-dismiss="toast" aria-label="Close"></button>
            </div>
            <div class="toast-body">
                ${i}
            </div>
        `,n.appendChild(l),new wn(l,{autohide:!0,delay:3e3}).show(),l.addEventListener("hidden.bs.toast",()=>{n.removeChild(l)})}}},Vh=()=>{const{characterStats:n,setCharacterStats:t}=$e(vn),{spells:e,setSpells:i,getLinkedStats:a}=sr(),{showToast:o}=xs(),s={name:"",quantity:1,power:1,dice:"",description:"",actions:1,rank:1,isLinked:!1,linkedStat:"None",element:lt.PHYS},[l,c]=rt(s),[r,h]=rt(null),[p,m]=rt(!1),[_,E]=rt(!1),[w,N]=rt(null),[k,L]=rt(!1);yt(()=>{const y=x=>{x.key==="Control"&&L(!0)},F=x=>{x.key==="Control"&&L(!1)};return window.addEventListener("keydown",y),window.addEventListener("keyup",F),()=>{window.removeEventListener("keydown",y),window.removeEventListener("keyup",F)}},[]);const j=y=>{var F,x;return y&&((x=(F=n.affinities)==null?void 0:F[y.element])==null?void 0:x.mastered)||!1},I=y=>{y&&P(j(y))},P=y=>{const F=n.luck+ee(e,"luck")||0,x=Math.min(F,Wr);var X=`🍀 Luck=[[${F}`;F>Wr?X+=`]] (+${Wr} max bonus)`:X+="]]";const be=`${y?2:1}d6cf1 + ${x}[Luck Bonus]`,Dt=y?"Draw Spell (Mastery)":"Draw Spell",Zt=`&{template:default} {{name=${Dt}}} {{Charges Gained=[[${be}]]}} {{${X}}} {{Note=If the number is highlighted red, the true amount of Charges Gained is that total MINUS the Luck Bonus.}}`;navigator.clipboard.writeText(Zt).then(()=>{o(`${Dt} command copied! Paste it into Roll20.`,"clipboard","success","Copied to clipboard")}).catch(ye=>{console.error("Failed to copy command: ",ye),o("Failed to copy command.","exclamation-triangle","danger","Copy Error")})},H=y=>{if(y.quantity>0&&y.dice)try{const F=Ur(e,y.dice,n),x=cn(y.element),X=Ur(e,"1d20+[strength]",n);let at;y.actions===0?at="Free Action":at=y.actions===1?"Action":"Actions";const be=`&{template:default} {{name=${y.name}}}                                 {{Actions=${y.actions} ${at}}}                                 {{Level=**Spell ${y.power}** (S.Link Rank ${y.rank})}}                                 {{Attack=[[${X}]]}}                                 {{Damage=[[${F}]] ${x} ${y.element}}}                                 ${y.description?`{{Description=${y.description}}}
                                `:""}`;navigator.clipboard.writeText(be),o("Spell roll command copied! Paste it into the text chat on Roll20.","clipboard","success","Copied to clipboard"),At(y.id,"quantity",y.quantity-1)}catch(F){alert(F.message||"Invalid dice format!")}else o("No more charges of this spell remaining!","exclamation-triangle","warning","Cannot cast spell")},Y=(y,F,x)=>{const X=F-x,at=`${y.name}: ${x} → ${F} (${X>=0?"+":""}${X})`;console.log(at)},z=y=>{N(w===y?null:y)};yt(()=>{localStorage.setItem("spells",JSON.stringify(e))},[e]),yt(()=>{const F=[...document.querySelectorAll('[data-bs-toggle="tooltip"]')].map(x=>new Le(x));return()=>{F.forEach(x=>x.dispose())}},[]);const R=(y=null)=>{h(y),c(y||s),m(!0)},O=()=>{h(null),m(!1)},V=(y=null)=>{h(y),c(y||s),E(!0)},tt=()=>{h(null),E(!1)},[st,Ft]=rt(""),ut=y=>{const F=Rh(y,n);return Ft(F.error||""),F.isValid},ot=()=>{const y=Mh(l);if(y.length>0){alert(`Please fix the following:
${y.join(`
`)}`);return}ut(l.dice)&&(i(r?e.map(F=>F.id===r.id?{...l,id:r.id}:F):[...e,{...l,id:Date.now()}]),p&&O(),_&&tt())},[dt,Qt]=rt(null),At=(y,F,x)=>{const X=e.find(at=>at.id===y);X&&(X.quantity!==x&&(Qt(y),setTimeout(()=>Qt(null),300),Y(X,x,X.quantity)),i(e.map(at=>at.id===y?{...at,[F]:x}:at)))},[Vt,Xt]=rt(null),Jt=y=>{Xt(y)},oe=()=>{Vt&&(e.find(y=>y.id===Vt),i(e.filter(y=>y.id!==Vt)),Xt(null),O())},Tt=(y,F)=>{const x=[...e],X=y+F;X>=0&&X<e.length&&([x[y],x[X]]=[x[X],x[y]],i(x))},Nt=()=>{const y=l.power+1;c({...l,power:y,rank:Cr(y)})},Wt=()=>{if(l.power>1){const y=l.power-1;c({...l,power:y,rank:Cr(y)})}},[Lt,ht]=rt(1),ae=y=>{const F=e.find(X=>X.id===y),x=Math.min(de,F.quantity+Lt);At(y,"quantity",x),ht(1)},Ie=y=>{const F=e.find(X=>X.id===y),x=Math.max(0,F.quantity-Lt);At(y,"quantity",x),ht(1)},Ut=y=>{let F="",x="";switch(y){case 0:F="[free-action]",x="Free Action";break;case 1:F="[one-action]",x="One Action";break;case 2:F="[two-actions]",x="Two Actions";break;case 3:F="[three-actions]",x="Three Actions";break;default:return""}return u("span",{className:"action","data-bs-toggle":"tooltip","data-bs-placement":"top","data-bs-original-title":x,title:x,role:"img","aria-label":x,children:F})},le=y=>y.isLinked?"Linked to "+ct[y.linkedStat].name:"No linked stat",ve=y=>{y.isLinked?console.log(`Linked stat: ${y.linkedStat}`):console.log("No linked stat"),V(y)};return u("div",{className:"spell-inventory","data-bs-theme":"dark",children:u("div",{className:"container",children:[u(bn,{title:"SPELL INVENTORY",lineMaxWidth:"50px"}),u("div",{className:"d-flex align-items-center justify-content-center mb-4",children:[u("button",{className:`dark-btn me-2 ${k?"gold-button":"dark-btn-secondary"}`,onClick:y=>P(y.ctrlKey),style:{width:"160px",height:"60px"},children:u("div",{className:"d-flex flex-column align-items-center",children:[u("div",{children:[u("i",{className:"fas fa-dice me-2"})," ",u("span",{children:"Roll to Draw"})]}),u("span",{style:{fontSize:"0.7em"},children:"hold Ctrl for mastery"})]})}),u("button",{className:"dark-btn dark-btn-primary",onClick:()=>R(),style:{width:"160px",height:"60px"},children:[u("i",{className:"fas fa-plus me-2"})," ",u("span",{children:"Add Spell"})]})]}),u("ul",{className:"list-group",children:e.map((y,F)=>u("li",{className:`list-group-item spell-item ${dt===y.id?"quantity-flash":""}`,children:[u("div",{class:"d-flex justify-content-left",children:[u("div",{className:"d-flex align-items-center overflow-hidden",style:{flex:"1 1 0"},onClick:()=>z(y.id),children:[u("span",{id:`quantity-badge-${y.id}`,className:"text-black badge quantity-badge me-2",style:{width:"2.5rem",flexShrink:0},children:u("small",{children:y.quantity})}),u("div",{class:"text-truncate",children:[cn(y.element)," ",u("span",{className:"arsenal me-2",children:y.name}),u("span",{className:"action-label hide-on-small me-2",style:{width:window.innerWidth<=750?"0px":"50px"},children:Ut(y.actions)})]})]}),u("div",{className:"d-flex align-items-center justify-content-right",style:{gap:"0.5rem"},children:[u("i",{className:"fas fa-edit text-primary",onClick:x=>{x.stopPropagation(),R(y)},style:{cursor:"pointer",transition:"opacity 0.3s",opacity:.6,flexShrink:0},onMouseOver:x=>{x.stopPropagation(),x.currentTarget.style.opacity="1"},onMouseOut:x=>{x.stopPropagation(),x.currentTarget.style.opacity="0.6"},"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Edit Spell"}),u("span",{className:`badge bg-dark border text-${y.isLinked?ct[y.linkedStat].color:"secondary"} ms-2 d-flex justify-content-between align-items-center link-badge-normal`,"data-bs-toggle":"tooltip","data-bs-original-title":le(y),title:le(y),onClick:x=>{x.stopPropagation(),ve(y)},style:{cursor:"pointer",width:"4rem"},children:[u("i",{className:`fas ${y.isLinked?ct[y.linkedStat].icon:"fa-link-slash"}`}),u("span",{children:y.isLinked?`+${nr(y.quantity,y.rank)}`:""})]}),u("button",{className:"btn btn-outline-danger btn-sm roll-button",style:{width:"120px",whiteSpace:"nowrap",overflow:"hidden"},onClick:x=>{x.stopPropagation(),H(y)},"data-bs-toggle":"tooltip","data-bs-placement":"top",title:"Click to copy roll command",children:[u("i",{className:"fas fa-dice-d20"}),u("span",{className:"ms-1 text-truncate",children:Ur(e,y.dice,n,!0)})]}),u("button",{className:"btn btn-outline-info btn-sm",onClick:x=>{x.stopPropagation(),I(y)},"data-bs-toggle":"tooltip","data-bs-placement":"top",title:`Click to copy the Draw command for ${y.name} (${y.element} - ${j(y)?"mastery":"normal"})`,style:{flexShrink:0},children:[u("i",{className:"fas fa-hand-sparkles"}),u("span",{className:"ms-1 hide-when-small",children:"Draw"})]}),u("div",{className:"input-group input-group-sm",children:[u("button",{className:"btn btn-outline-danger btn-sm",onClick:x=>{x.stopPropagation(),Ie(y.id)},children:u("i",{className:"fas fa-minus"})}),u("input",{type:"number",className:"form-control form-control-sm text-center",style:{width:"60px"},value:Lt,min:"1",max:de,onChange:x=>ht(Math.max(1,Math.min(de,parseInt(x.currentTarget.value)||1))),onClick:x=>x.stopPropagation()}),u("button",{className:"btn btn-outline-success btn-sm",onClick:x=>{x.stopPropagation(),ae(y.id)},children:u("i",{className:"fas fa-plus"})})]}),u("div",{className:"btn-group hide-on-small",style:{flexShrink:0},children:[u("button",{className:"btn btn-outline-secondary btn-sm",onClick:x=>{x.stopPropagation(),Tt(F,1)},children:u("i",{className:"fas fa-chevron-down"})}),u("button",{className:"btn btn-outline-secondary btn-sm",onClick:x=>{x.stopPropagation(),Tt(F,-1)},children:u("i",{className:"fas fa-chevron-up"})})]})]}),u("br",{})]}),w===y.id&&u("div",{className:"mt-3",children:[u("div",{className:"d-flex flex-wrap justify-content-center mb-2",style:{gap:"0.5rem"},children:[u("span",{className:`badge bg-dark border text-${y.isLinked?ct[y.linkedStat].color:"secondary"}
                                                link-badge-responsive`,"data-bs-toggle":"tooltip","data-bs-original-title":le(y),title:le(y),onClick:x=>{x.stopPropagation(),ve(y)},style:{cursor:"pointer"},children:[u("i",{className:`fas ${y.isLinked?ct[y.linkedStat].icon:"fa-link-slash"}`}),u("span",{children:y.isLinked?u(je,{children:[`${ct[y.linkedStat].name}`,u("span",{className:"ms-2",children:`+${nr(y.quantity,y.rank)}`})]}):""})]}),u("span",{className:"badge bg-dark border",children:[Ut(y.actions)," ",y.actions," Actions"]}),u("span",{className:"badge bg-dark border",children:[cn(y.element)," ",y.element]}),u("span",{className:"badge bg-dark border",children:["Spell ",y.power," ",u("i",{children:["(SL. Rank: ",y.rank,")"]})]})]}),y.description&&u(je,{children:[u("p",{className:"py-1 border-bottom h5 arsenal",children:"Description"}),u("div",{className:"mb-0 spell-description arsenal",style:{display:"-webkit-box",WebkitLineClamp:"5",WebkitBoxOrient:"vertical",overflow:"hidden",textOverflow:"ellipsis"},dangerouslySetInnerHTML:{__html:y.description}})]})]})]},y.id))}),u(Hh,{isModalOpen:p,closeModal:O,spellBeingEdited:r,currentSpell:l,setCurrentSpell:c,incrementPower:Nt,decrementPower:Wt,getSpellRank:Cr,getActionLabel:Ut,validateDiceRoll:ut,diceError:st,saveSpell:ot,removeSpell:Jt}),u(Fh,{isLinkModalOpen:_,closeLinkModal:tt,currentSpell:l,setCurrentSpell:c,saveSpell:ot,getLinkedStats:a}),u(Ph,{spellToDelete:Vt,confirmDelete:oe,setSpellToDelete:Xt})]})})},jh=()=>{const{characterStats:n,setCharacterStats:t}=$e(vn),{spells:e}=sr(),{showToast:i}=xs(),a=(c,r)=>{t(h=>({...h,[c]:parseInt(r,10)||0}))},o=Object.entries(n).filter(([c])=>{var r;return((r=ct[c])==null?void 0:r.category)!==xt.CORE}).reduce((c,[r,h])=>c+(parseInt(h,10)||0),0),s=c=>{const r=prompt("Enter a DC for the roll (leave blank for normal roll):");if(r===null)return;const h=Math.max(0,parseInt(r,10)),p=(n[c]||0)+ee(e,c),m=ct[c];let _=`1d20+${p}`;h>1&&(_=`${_}cs>=${h}cf<${h}`);const E=h?`check vs DC ${h}`:"check",w=`&{template:default} {{name=${Ss(c)} ${E}}}{{Roll=[[${_}]]}}{{Stat Bonus=[[${p}]] from ${m.shortName}}}`;navigator.clipboard.writeText(w);const N=h?`${m.name} roll vs DC ${h} copied! Paste it into Roll20.`:`${m.name} roll command copied! Paste it into Roll20.`;i(N,"clipboard","success","Copied to clipboard")},l=c=>{const r=Object.entries(ct).filter(([h,p])=>p.category===c);return r.length>0&&u("div",{className:"stat-category",children:[u("h6",{className:"stat-category-title text-secondary mb-2",children:c.toUpperCase()}),u("div",{className:"stat-grid",children:r.map(([h,p])=>u("div",{className:"stat-group mb-2",title:`${p.name} ${p.description}`,"data-bs-toggle":"tooltip","data-bs-placement":"top",children:u("div",{className:"input-group",children:[u("span",{className:`input-group-text gap-1 text-${p.color}`,onClick:()=>s(h),style:{cursor:"pointer"},children:[u("i",{className:`fas ${p.icon}`})," ",u("span",{className:"stat-text",children:p.shortName})]}),u("input",{type:"number",className:"form-control",value:n[h]||0,onChange:m=>a(h,m.currentTarget.value)}),u("span",{className:"input-group-text",children:[u("i",{className:`fas ${ee(e,h)?"":"fa-link-slash"} text-muted`}),ee(e,h)>0&&u("div",{children:[u("span",{className:"text-secondary ms-1",children:["+",ee(e,h)," ="]}),u("span",{className:"text-muted ms-1",children:n[h]+ee(e,h)})]})]})]})},h))})]})};return u("div",{className:"character-stats",children:[u(bn,{title:"STATS",lineMaxWidth:"50px",containerClassName:"mb-1"}),u("h6",{className:"stat-category-title text-danger mb-4",children:["BASE ALLOCATED POINTS: ",o]}),l(xt.PHYSICAL),l(xt.MAGICAL),l(xt.UTILITY)]})};function Wh(){return u("div",{className:"spell-inventory container-fluid",children:u("div",{className:"row",children:[u("div",{className:"col-12 col-md-4 order-2 order-md-1",style:{minHeight:"50vh",overflowY:"auto"},children:u(jh,{})}),u("div",{className:"col-12 col-md-8 order-1 order-md-2",style:{minHeight:"50vh",overflowY:"auto"},children:u(Vh,{})})]})})}const Uh="data:image/svg+xml,%3csvg%20width='64'%20height='64'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs/%3e%3cg%3e%3cpath%20stroke='none'%20fill='%23FFFFFF'%20d='M16%208%20L48%208%20Q56%208%2056%2016%20L56%2048%20Q56%2056%2048%2056%20L16%2056%20Q8%2056%208%2048%20L8%2016%20Q8%208%2016%208%20M11%2016%20L11%2048%20Q11%2053%2016%2053%20L48%2053%20Q53%2053%2053%2048%20L53%2016%20Q53%2011%2048%2011%20L16%2011%20Q11%2011%2011%2016%20M22%2032%20L30%2024%2032%2024%2032%2028%2042%2028%2042%2036%2032%2036%2032%2040%2030%2040%2022%2032'/%3e%3c/g%3e%3c/svg%3e",Bh="data:image/svg+xml,%3csvg%20width='64'%20height='64'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%3e%3cdefs/%3e%3cg%3e%3cpath%20stroke='none'%20fill='%23FFFFFF'%20d='M42%2032%20L34%2040%2032%2040%2032%2036%2022%2036%2022%2028%2032%2028%2032%2024%2034%2024%2042%2032%20M53%2048%20L53%2016%20Q53%2011%2048%2011%20L16%2011%20Q11%2011%2011%2016%20L11%2048%20Q11%2053%2016%2053%20L48%2053%20Q53%2053%2053%2048%20M48%2056%20L16%2056%20Q8%2056%208%2048%20L8%2016%20Q8%208%2016%208%20L48%208%20Q56%208%2056%2016%20L56%2048%20Q56%2056%2048%2056'/%3e%3c/g%3e%3c/svg%3e",Yh=[{id:"character",title:"Character Sheet"},{id:"spells",title:"Spells"}],St=Yh.map(n=>({title:n.title,path:n.id==="character"?er:`${er.replace(/\/$/,"")}/${n.id}`}));function Kh(){const{url:n,route:t}=ls(),e=St.findIndex(o=>o.path===n);yt(()=>{const o=s=>{s.key==="ArrowLeft"?e>0&&t(St[e-1].path):s.key==="ArrowRight"&&e<St.length-1&&t(St[e+1].path)};return window.addEventListener("keydown",o),()=>{window.removeEventListener("keydown",o)}},[n,e]);const i={height:"48px",verticalAlign:"middle",cursor:"pointer"},a=o=>{t(o)};return u("header",{className:"header mb-4",children:u("div",{className:"d-flex justify-content-center align-items-center p-3 border-bottom",children:u("div",{className:"col-md-8 col-lg-6 text-center",children:[u(bn,{title:"NAVIGATION",containerClassName:"mb-3"}),u("nav",{className:"btn-group gap-2",role:"group","aria-label":"Main navigation",children:[u("img",{src:Uh,alt:"Navigate left",onClick:()=>e>0&&a(St[e-1].path),style:{...i,marginRight:"8px",filter:e>0?"none":"opacity(0.3)",cursor:e>0?"pointer":"default"},"aria-disabled":e<=0}),St.map((o,s)=>u("button",{className:`dark-btn dark-btn-primary ${n===o.path?"dark-btn-active":""}`,onClick:()=>a(o.path),"data-bs-toggle":"tooltip",title:`Navigate to ${o.title} (${s>0?"Left Arrow":""}${s>0&&s<St.length-1?" / ":""}${s<St.length-1?"Right Arrow":""})`,children:u("span",{children:o.title})},o.path)),u("img",{src:Bh,alt:"Navigate right",onClick:()=>e<St.length-1&&a(St[e+1].path),style:{...i,marginLeft:"8px",filter:e<St.length-1?"none":"opacity(0.3)",cursor:e<St.length-1?"pointer":"default"},"aria-disabled":e>=St.length-1})]})]})})})}const qh=()=>{const{showToast:n}=xs(),{spells:t}=sr(),e=(o,s)=>{let l="[[1d20+"+ee(t,s);o==="Initiative"&&(l+="&{tracker}"),l+="]]";const c=`&{template:default} {{name=${o}}}{{Roll=${l}}}{{Stat Bonus=[[${ee(t,s)}]] from ${Ss(s)}}}`;navigator.clipboard.writeText(c),n(o+" roll command copied! Paste it into the text chat on Roll20.","clipboard","success","Copied to clipboard")},i=[{name:"Fortitude Save",stat:"vitality"},{name:"Will Save",stat:"spirit"},{name:"Reflex Save",stat:"speed"}],a={name:"Initiative",stat:"speed",icon:"fa-bolt"};return u("div",{className:"save-rolls",children:[u("div",{className:"d-flex flex-wrap gap-2 align-items-center justify-content-center",children:[i.map(o=>u("button",{onClick:()=>e(o.name,o.stat),className:"dark-btn dark-btn-secondary d-flex align-items-center justify-content-center flex-grow-1 position-relative",style:{minWidth:"140px",maxWidth:"170px",height:"48px"},"data-bs-toggle":"tooltip","data-bs-placement":"top",title:`Roll ${o.name} (${ct[o.stat].shortName})`,children:[u("i",{className:`fas ${ct[o.stat].icon} me-2`,style:{width:"20px"}}),u("span",{children:o.name})]},o.name)),u("button",{onClick:()=>e(a.name,a.stat),className:"dark-btn dark-btn-primary d-flex align-items-center justify-content-center flex-grow-1 position-relative",style:{minWidth:"140px",maxWidth:"170px",height:"48px"},"data-bs-toggle":"tooltip","data-bs-placement":"top",title:`Roll ${a.name} (${ct[a.stat].shortName})`,children:[u("i",{className:`fas ${a.icon} text-${a.color} me-2`,style:{width:"20px"}}),u("span",{children:a.name})]},a.name)]}),u(bn,{title:"QUICK ROLLS",containerClassName:"mt-3"})]})},zh=({buildDate:n})=>{const{url:t}=ls();return u("footer",{className:"footer mt-auto py-3 text-light border-top",children:u("div",{className:"container-fluid",children:u("div",{className:"row",children:[u("div",{className:"col-4 text-start d-flex align-items-center",children:[u("span",{className:"me-2",children:["Build Date: ",n]}),u("a",{href:"https://github.com/btarg/requiem-pathfinder-preact",target:"_blank",rel:"noopener noreferrer",className:"text-light",title:"GitHub Repository",children:u("i",{className:"fab fa-github"})})]}),u("div",{className:"col-4 text-center",children:u(qh,{})}),u("div",{className:"col-4 d-flex align-items-center justify-content-end",children:u("a",{href:"https://btarg.github.io/requiem-vault/",target:"_blank",rel:"noopener noreferrer",className:"dark-btn dark-btn-primary",children:[u("i",{className:"fas fa-book me-2"}),u("span",{className:"me-2",children:"Open Wiki"}),u("i",{className:"fa-solid fa-arrow-up-right-from-square",style:{fontSize:"0.75rem"}})]})})]})})})};function Gh(){return u(Na,{children:u(wa,{children:u(gn,{children:u("div",{className:"d-flex flex-column min-vh-100",children:[" ",u(Kh,{}),u("main",{className:"flex-grow-1",children:[" ",u(ro,{children:[u(wr,{path:er,component:ka}),u(wr,{path:`${er}spells`,component:Wh}),u(wr,{default:!0,component:va})]})]}),u(zh,{buildDate:"2025-05-18T13:23:32.610Z"})]})})})})}_a(u(Gh,{}),document.getElementById("app"));
